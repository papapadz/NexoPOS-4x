/*! For license information please see app.min.js.LICENSE.txt */
(self.webpackChunkNexoPOS_4x=self.webpackChunkNexoPOS_4x||[]).push([[219],{400:(t,e,r)=>{"use strict";var s=r(538),n=r(2633),i=(r(4975),r(40)),a=r(277),o=r(9165);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){var s;return s=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=l(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==l(s)?s:String(s))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const f={name:"ns-rewards-system",mounted:function(){this.loadForm(),console.log(this.rules)},data:function(){return{formValidation:new i.Z,form:{},nsSnackBar:a.kX,nsHttpClient:a.ih}},props:["submit-method","submit-url","return-url","src","rules"],methods:{__:o.__,submit:function(){var t=this;if(0===this.form.rules.length)return a.kX.error(this.$slots["error-no-rules"]?this.$slots["error-no-rules"]:(0,o.__)("No rules has been provided.")).subscribe();if(this.form.rules.filter((function(t){return t.filter((function(t){return!(t.value>=0)&&"hidden"!==t.type})).length>0})).length>0)return a.kX.error(this.$slots["error-no-valid-rules"]?this.$slots["error-no-valid-rules"]:(0,o.__)("No valid run were provided.")).subscribe();if(this.formValidation.validateForm(this.form).length>0)return a.kX.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:(0,o.__)("Unable to proceed, the form is invalid."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();if(this.formValidation.disableForm(this.form),void 0===this.submitUrl)return a.kX.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:(0,o.__)("Unable to proceed, no valid submit URL is defined."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();var e=u(u({},this.formValidation.extractForm(this.form)),{},{rules:this.form.rules.map((function(t){var e={};return t.forEach((function(t){e[t.name]=t.value})),e}))});a.ih[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){t.formValidation.triggerError(t.form,e.response.data),t.formValidation.enableForm(t.form),a.kX.error(e.data.message||(0,o.__)("An unexpected error has occured"),void 0,{duration:5e3}).subscribe()}))},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},loadForm:function(){var t=this;a.ih.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},parseForm:function(t){t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0];var e=0;for(var r in t.tabs)0===e&&(t.tabs[r].active=!0),t.tabs[r].active=void 0!==t.tabs[r].active&&t.tabs[r].active,t.tabs[r].fields=this.formValidation.createFields(t.tabs[r].fields),e++;return t},getRuleForm:function(){return JSON.parse(JSON.stringify(this.form.ruleForm))},addRule:function(){this.form.rules.push(this.getRuleForm())},removeRule:function(t){this.form.rules.splice(t,1)}}};var p=r(1900);const h=(0,p.Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?e("div",{staticClass:"flex items-center justify-center flex-auto"},[e("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex justify-between items-center"},[e("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._t("title",(function(){return[t._v(t._s(t.__("No title Provided")))]}))],2),t._v(" "),e("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?e("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),e("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),e("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",(function(){return[t._v(t._s(t.__("Save")))]}))],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?e("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(r,s){return e("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[e("span",[t._t("error-required",(function(){return[t._v(t._s(r.identifier))]}))],2)])}))],2),t._v(" "),e("div",{staticClass:"flex -mx-4 mt-4",attrs:{id:"points-wrapper"}},[e("div",{staticClass:"w-full md:w-1/3 lg:1/4 px-4"},[e("div",{staticClass:"bg-white rounded shadow"},[e("div",{staticClass:"header border-b border-gray-200 p-2"},[t._v(t._s(t.__("General")))]),t._v(" "),e("div",{staticClass:"body p-2"},t._l(t.form.tabs.general.fields,(function(t,r){return e("ns-field",{key:r,staticClass:"mb-2",attrs:{field:t}})})),1)]),t._v(" "),e("div",{staticClass:"rounded bg-gray-100 border border-gray-400 p-2 flex justify-between items-center my-3"},[t._t("add",(function(){return[e("span",{staticClass:"text-gray-700"},[t._v(t._s(t.__("Add Rule")))])]})),t._v(" "),e("button",{staticClass:"rounded bg-blue-500 text-white font-semibold flex items-center justify-center h-10 w-10",on:{click:function(e){return t.addRule()}}},[e("i",{staticClass:"las la-plus"})])],2)]),t._v(" "),e("div",{staticClass:"w-full md:w-2/3 lg:3/4 px-4 -m-3 flex flex-wrap items-start justify-start"},t._l(t.form.rules,(function(r,s){return e("div",{key:s,staticClass:"w-full md:w-1/2 p-3"},[e("div",{staticClass:"rounded shadow bg-white flex-auto"},[e("div",{staticClass:"body p-2"},t._l(r,(function(t,r){return e("ns-field",{key:r,staticClass:"mb-2",attrs:{field:t}})})),1),t._v(" "),e("div",{staticClass:"header border-t border-gray-200 p-2 flex justify-end"},[e("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeRule(s)}}},[e("i",{staticClass:"las la-times"})])],1)])])})),0)])]:t._e()],2)}),[],!1,null,null,null).exports;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function b(t,e,r){var s;return s=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=m(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==m(s)?s:String(s))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const g={name:"ns-create-coupons",mounted:function(){this.loadForm()},computed:{validTabs:function(){if(this.form){var t=[];for(var e in this.form.tabs)["selected_products","selected_categories"].includes(e)&&t.push(this.form.tabs[e]);return t}return[]},activeValidTab:function(){return this.validTabs.filter((function(t){return t.active}))[0]},generalTab:function(){var t=[];for(var e in this.form.tabs)["general"].includes(e)&&t.push(this.form.tabs[e]);return t}},data:function(){return{formValidation:new i.Z,form:{},nsSnackBar:a.kX,nsHttpClient:a.ih,options:new Array(40).fill("").map((function(t,e){return{label:"Foo"+e,value:"bar"+e}}))}},props:["submit-method","submit-url","return-url","src","rules"],methods:{setTabActive:function(t){this.validTabs.forEach((function(t){return t.active=!1})),t.active=!0},submit:function(){var t=this;if(this.formValidation.validateForm(this.form).length>0)return a.kX.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(void 0===this.submitUrl)return a.kX.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();this.formValidation.disableForm(this.form);var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.formValidation.extractForm(this.form));a.ih[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){a.kX.error(e.message||(0,o.__)("An unexpected error occured."),void 0,{duration:5e3}).subscribe(),e.response&&t.formValidation.triggerError(t.form,e.response.data),t.formValidation.enableForm(t.form)}))},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},loadForm:function(){var t=this;a.ih.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},parseForm:function(t){t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0];var e=0;for(var r in t.tabs)1===e&&void 0===t.tabs[r].active&&(t.tabs[r].active=!0),t.tabs[r].active=void 0!==t.tabs[r].active&&t.tabs[r].active,t.tabs[r].fields=this.formValidation.createFields(t.tabs[r].fields),e++;return t},addOption:function(t){var e=this.options.indexOf(t);e>=0&&(this.options[e].selected=!this.options[e].selected)},removeOption:function(t){var e=t.option;t.index;e.selected=!1},getRuleForm:function(){return this.form.ruleForm},addRule:function(){this.form.rules.push(this.getRuleForm())},removeRule:function(t){this.form.rules.splice(t,1)}}};const _=(0,p.Z)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?e("div",{staticClass:"flex items-center justify-center flex-auto"},[e("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex justify-between items-center"},[e("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._t("title",(function(){return[t._v("No title Provided")]}))],2),t._v(" "),e("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?e("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),e("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),e("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",(function(){return[t._v("Save")]}))],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?e("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(r,s){return e("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[e("span",[t._t("error-required",(function(){return[t._v(t._s(r.identifier))]}))],2)])}))],2),t._v(" "),e("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[e("div",{staticClass:"px-4 w-full md:w-1/2"},t._l(t.generalTab,(function(r,s){return e("div",{key:s,staticClass:"rounded bg-white shadow p-2"},t._l(r.fields,(function(t,r){return e("ns-field",{key:r,attrs:{field:t}})})),1)})),0),t._v(" "),e("div",{staticClass:"px-4 w-full md:w-1/2"},[e("div",{attrs:{id:"tabbed-card"}},[e("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.validTabs,(function(r,s){return e("div",{key:s,staticClass:"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg",class:r.active?"bg-white":"bg-gray-100",on:{click:function(e){return t.setTabActive(r)}}},[t._v("\n                            "+t._s(r.label)+"\n                        ")])})),0),t._v(" "),e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},t._l(t.activeValidTab.fields,(function(t,r){return e("div",{key:r,staticClass:"flex flex-col"},[e("ns-field",{attrs:{field:t}})],1)})),0)])])])]:t._e()],2)}),[],!1,null,null,null).exports;const y={name:"ns-settings",props:["url"],data:function(){return{validation:new i.Z,form:{},test:""}},computed:{formDefined:function(){return Object.values(this.form).length>0},activeTab:function(){for(var t in this.form.tabs)if(!0===this.form.tabs[t].active)return this.form.tabs[t]}},mounted:function(){this.loadSettingsForm()},methods:{__:o.__,loadComponent:function(t){return nsExtraComponents[t]},submitForm:function(){var t=this;if(0===this.validation.validateForm(this.form).length){this.validation.disableForm(this.form);var e=this.validation.extractForm(this.form);return a.ih.post(this.url,e).subscribe({next:function(e){t.validation.enableForm(t.form),t.loadSettingsForm(),e.data&&e.data.results&&e.data.results.forEach((function(t){"failed"===t.status?a.kX.error(t.message).subscribe():a.kX.success(t.message).subscribe()})),a.kq.doAction("ns-settings-saved",{result:e,instance:t}),a.kX.success(e.message).subscribe()},error:function(e){t.validation.enableForm(t.form),t.validation.triggerFieldsErrors(t.form,e),a.kq.doAction("ns-settings-failed",{error:e,instance:t}),a.kX.error(e.message||(0,o.__)("Unable to proceed the form is not valid.")).subscribe()}})}a.kX.error(this.$slots["error-form-invalid"][0].text||(0,o.__)("Unable to proceed the form is not valid.")).subscribe()},setActive:function(t){for(var e in this.form.tabs)this.form.tabs[e].active=!1;t.active=!0,a.kq.doAction("ns-settings-change-tab",{tab:t,instance:this})},loadSettingsForm:function(){var t=this;a.ih.get(this.url).subscribe((function(e){var r=0;Object.values(e.tabs).filter((function(t){return t.active})).length;for(var s in e.tabs)t.formDefined?e.tabs[s].active=t.form.tabs[s].active:(e.tabs[s].active=!1,0===r&&(e.tabs[s].active=!0)),r++;t.form=t.validation.createForm(e),a.kq.doAction("ns-settings-loaded",t),a.kq.doAction("ns-settings-change-tab",{tab:t.activeTab,instance:t})}))}}};const x=(0,p.Z)(y,(function(){var t=this,e=t._self._c;return t.formDefined?e("div",{attrs:{id:"tabbed-card"}},[e("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.form.tabs,(function(r,s){return e("div",{key:s,staticClass:"text-gray-700 cursor-pointer flex items-center px-4 py-2 rounded-tl-lg rounded-tr-lg",class:r.active?"bg-white":"bg-gray-300",on:{click:function(e){return t.setActive(r)}}},[e("span",[t._v(t._s(r.label))]),t._v(" "),r.errors.length>0?e("span",{staticClass:"ml-2 rounded-full bg-red-400 text-white text-sm h-6 w-6 flex items-center justify-center"},[t._v(t._s(r.errors.length))]):t._e()])})),0),t._v(" "),e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow"},[e("div",{staticClass:"-mx-4 flex flex-wrap p-2"},[t.activeTab.fields?t._l(t.activeTab.fields,(function(t,r){return e("div",{key:r,staticClass:"w-full px-4 md:w-1/2 lg:w-1/3"},[e("div",{staticClass:"flex flex-col my-2"},[e("ns-field",{attrs:{field:t}})],1)])})):t._e(),t._v(" "),t.activeTab.component?e("div",{staticClass:"w-full px-4"},[e(t.loadComponent(t.activeTab.component),{tag:"component"})],1):t._e()],2),t._v(" "),t.activeTab.fields?e("div",{staticClass:"border-t border-gray-400 p-2 flex justify-end"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.submitForm()}}},[t._t("submit-button",(function(){return[t._v(t._s(t.__("Save Settings")))]}))],2)],1):t._e()])]):t._e()}),[],!1,null,null,null).exports;const w={name:"ns-reset",props:["url"],methods:{__:o.__,submit:function(){if(0===this.fields.length)return a.kX.error((0,o.__)("This form is not completely loaded.")).susbcribe();if(!this.validation.validateFields(this.fields))return this.$forceUpdate(),a.kX.error(this.$slots["error-form-invalid"]?this.$slots["error-form-invalid"][0].text:"Invalid Form").subscribe();var t=this.validation.getValue(this.fields);confirm(this.$slots["confirm-message"]?this.$slots["confirm-message"][0].text:(0,o.__)("Would you like to proceed ?"))&&a.ih.post("/api/nexopos/v4/reset",t).subscribe({next:function(t){a.kX.success(t.message).subscribe()},error:function(t){a.kX.error(t.message).subscribe()}})},loadFields:function(){var t=this;a.ih.get("/api/nexopos/v4/fields/ns.reset").subscribe({next:function(e){t.fields=t.validation.createFields(e)},error:function(t){a.kX.error(t.message).subscribe()}})}},mounted:function(){this.loadFields()},data:function(){return{validation:new i.Z,fields:[]}}};const C=(0,p.Z)(w,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"reset-app"}},[t._m(0),t._v(" "),e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow"},[e("div",{staticClass:"-mx-4 flex flex-wrap p-2"},t._l(t.fields,(function(t,r){return e("div",{key:r,staticClass:"px-4"},[e("ns-field",{attrs:{field:t}})],1)})),0),t._v(" "),e("div",{staticClass:"card-body border-t border-gray-400 p-2 flex"},[e("div",[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.submit()}}},[t._v(t._s(t.__("Proceed")))])],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},[t("div",{staticClass:"text-gray-700 bg-white cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg"},[this._v("\n            Reset\n        ")])])}],!1,null,null,null).exports;var k=r(9127);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function S(){S=function(){return e};var t,e={},r=Object.prototype,s=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,s){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),o=new T(s||[]);return n(a,"_invoke",{value:O(t,r,o)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function b(){}function g(){}function _(){}var y={};c(y,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(F([])));w&&w!==r&&s.call(w,a)&&(y=w);var C=_.prototype=b.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(n,i,a,o){var l=d(t[n],t,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==j(u)&&s.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,o)}),(function(t){r("throw",t,a,o)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,o)}))}o(l.arg)}var i;n(this,"_invoke",{value:function(t,s){function n(){return new e((function(e,n){r(t,s,e,n)}))}return i=i?i.then(n,n):n()}})}function O(e,r,s){var n=f;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:t,done:!0}}for(s.method=i,s.arg=a;;){var o=s.delegate;if(o){var l=$(o,s);if(l){if(l===v)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===f)throw n=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=h;var c=d(e,r,s);if("normal"===c.type){if(n=s.done?m:p,c.arg===v)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(n=m,s.method="throw",s.arg=c.arg)}}}function $(e,r){var s=r.method,n=e.iterator[s];if(n===t)return r.delegate=null,"throw"===s&&e.iterator.return&&(r.method="return",r.arg=t,$(e,r),"throw"===r.method)||"return"!==s&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+s+"' method")),v;var i=d(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(s.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(j(e)+" is not iterable")}return g.prototype=_,n(C,"constructor",{value:_,configurable:!0}),n(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},k(P.prototype),c(P.prototype,o,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,s,n,i){void 0===i&&(i=Promise);var a=new P(u(t,r,s,n),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var s in e)r.push(s);return r.reverse(),function t(){for(;r.length;){var s=r.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=F,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(s,n){return o.type="throw",o.arg=e,r.next=s,n&&(r.method="next",r.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=s.call(a,"catchLoc"),c=s.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if("throw"===s.type){var n=s.arg;E(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,s){return this.delegate={iterator:F(e),resultName:r,nextLoc:s},"next"===this.method&&(this.arg=t),v}},e}function P(t,e,r,s,n,i,a){try{var o=t[i](a),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(s,n)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(s,n){var i=t.apply(e,r);function a(t){P(i,s,n,a,o,"next",t)}function o(t){P(i,s,n,a,o,"throw",t)}a(void 0)}))}}var $;const D={name:"ns-modules",props:["url","upload"],data:function(){return{modules:[],total_enabled:0,total_disabled:0}},mounted:function(){this.loadModules().subscribe()},computed:{noModules:function(){return 0===Object.values(this.modules).length},noModuleMessage:function(){return this.$slots["no-modules-message"]?this.$slots["no-modules-message"][0].text:(0,o.__)("No module has been updated yet.")}},methods:{__:o.__,download:function(t){document.location="/dashboard/modules/download/"+t.namespace},performMigration:($=O(S().mark((function t(e,r){var s,n,i,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=function(){var t=O(S().mark((function t(r,s){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){a.ih.post("/api/nexopos/v4/modules/".concat(e.namespace,"/migrate"),{file:r,version:s}).subscribe((function(e){t(!0)}),(function(t){return a.kX.error(t.message,null,{duration:4e3}).subscribe()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),!(r=r||e.migrations)){t.next=19;break}e.migrating=!0,t.t0=S().keys(r);case 5:if((t.t1=t.t0()).done){t.next=17;break}n=t.t1.value,i=0;case 8:if(!(i<r[n].length)){t.next=15;break}return o=r[n][i],t.next=12,s(o,n);case 12:i++,t.next=8;break;case 15:t.next=5;break;case 17:e.migrating=!1,e.migrated=!0;case 19:case"end":return t.stop()}}),t)}))),function(t,e){return $.apply(this,arguments)}),refreshModules:function(){this.loadModules().subscribe()},enableModule:function(t){var e=this,r="".concat(this.url,"/").concat(t.namespace,"/enable");a.ih.put(r).subscribe(function(){var t=O(S().mark((function t(r){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.kX.success(r.message).subscribe(),e.loadModules().subscribe((function(t){document.location.reload()}),(function(t){a.kX.error(t.message).subscribe()}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){a.kX.error(t.message).subscribe()}))},disableModule:function(t){var e=this,r="".concat(this.url,"/").concat(t.namespace,"/disable");a.ih.put(r).subscribe((function(t){a.kX.success(t.message).subscribe(),e.loadModules().subscribe((function(t){document.location.reload()}),(function(t){a.kX.error(t.message).subscribe()}))}),(function(t){a.kX.error(t.message).subscribe()}))},loadModules:function(){var t=this;return a.ih.get(this.url).pipe((0,k.U)((function(e){return t.modules=e.modules,t.total_enabled=e.total_enabled,t.total_disabled=e.total_disabled,e})))},removeModule:function(t){var e=this;if(confirm(this.$slots["confirm-delete-module"]?this.$slots["confirm-delete-module"][0].text:'No text was provided for "confirm-delete-module" message.')){var r="".concat(this.url,"/").concat(t.namespace,"/delete");a.ih.delete(r).subscribe((function(t){e.loadModules().subscribe((function(t){document.location.reload()}))}),(function(t){a.kX.error(t.message,null,{duration:5e3}).subscribe()}))}}}};const E=(0,p.Z)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-auto flex flex-col pb-4",attrs:{id:"module-wrapper"}},[e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"flex justify-between items-center -mx-2"},[e("span",{staticClass:"px-2"},[e("a",{staticClass:"items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow flex px-3 py-1 hover:bg-blue-400 hover:text-white",on:{click:function(e){return t.refreshModules()}}},[e("i",{staticClass:"las la-sync"}),t._v(" "),e("span",{staticClass:"mx-2"},[t._v(t._s(t.__("Refresh")))])])]),t._v(" "),e("span",{staticClass:"px-2"},[e("a",{staticClass:"flex items-center justify-center rounded cursor-pointer text-gray-600 bg-white shadow px-3 py-1 hover:bg-blue-400 hover:text-white",attrs:{href:t.upload}},[e("span",[t._v(t._s(t.__("Upload")))]),t._v(" "),e("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),e("div",{staticClass:"header-tabs flex -mx-4 flex-wrap"},[e("div",{staticClass:"px-4 text-xs text-blue-500 font-semibold hover:underline"},[e("a",{attrs:{href:"#"}},[t._v(t._s(t.$slots.enabled?t.$slots.enabled[0].text:t.__("Enabled"))+"("+t._s(t.total_enabled)+")")])]),t._v(" "),e("div",{staticClass:"px-4 text-xs text-blue-500 font-semibold hover:underline"},[e("a",{attrs:{href:"#"}},[t._v(t._s(t.$slots.disabled?t.$slots.disabled[0].text:t.__("Disabled"))+" ("+t._s(t.total_disabled)+")")])])])]),t._v(" "),e("div",{staticClass:"module-section flex-auto flex flex-wrap -mx-4"},[t.noModules?e("div",{staticClass:"p-4 flex-auto flex"},[e("div",{staticClass:"flex h-full flex-auto border-dashed border-2 border-gray-600 bg-white justify-center items-center"},[e("h2",{staticClass:"font-bold text-xl text-gray-700"},[t._v(t._s(t.noModuleMessage))])])]):t._e(),t._v(" "),t._l(t.modules,(function(r,s){return e("div",{key:s,staticClass:"px-4 w-full md:w-1/2 lg:w-1/3 py-4"},[e("div",{staticClass:"rounded shadow overflow-hidden"},[e("div",{staticClass:"module-head h-40 p-2 bg-white"},[e("h3",{staticClass:"font-semibold text-lg text-gray-700"},[t._v(t._s(r.name))]),t._v(" "),e("p",{staticClass:"text-gray-600 text-xs flex justify-between"},[e("span",[t._v(t._s(r.author))]),t._v(" "),e("strong",[t._v("v"+t._s(r.version))])]),t._v(" "),e("p",{staticClass:"py-2 text-gray-700 text-sm"},[t._v(t._s(r.description))])]),t._v(" "),e("div",{staticClass:"footer bg-gray-200 p-2 flex justify-between"},[r.enabled?t._e():e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.enableModule(r)}}},[t._v(t._s(t.__("Enable")))]),t._v(" "),r.enabled?e("ns-button",{attrs:{type:"success"},on:{click:function(e){return t.disableModule(r)}}},[t._v(t._s(t.__("Disable")))]):t._e(),t._v(" "),e("div",{staticClass:"flex -mx-1"},[e("div",{staticClass:"px-1 flex -mx-1"},[e("div",{staticClass:"px-1 flex"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.download(r)}}},[e("i",{staticClass:"las la-archive"})])],1),t._v(" "),e("div",{staticClass:"px-1 flex"},[e("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeModule(r)}}},[e("i",{staticClass:"las la-trash"})])],1)])])],1)])])}))],2)])}),[],!1,null,null,null).exports;var T=r(7761),F=r(2277);const A={name:"ns-permissions",filters:[T.b],data:function(){return{permissions:[],toggled:!1,roles:[]}},mounted:function(){this.loadPermissionsAndRoles()},methods:{__:o.__,selectAllPermissions:function(t){var e=new Object;if(e[t.namespace]=new Object,!t.locked||t.locked&&confirm(this.$slots["bulk-edit-system-role"]?this.$slots["bulk-edit-system-role"][0].text:'No message has been provided for "bulk-edit-system-role"')){for(var r in t.fields)t.fields[r].value=t.field.value,e[t.namespace][r]=t.field.value;a.ih.put("/api/nexopos/v4/users/roles",e).subscribe((function(t){a.kX.success(t.message,null,{duration:3e3}).subscribe()}))}else t.field.value=!t.field.value},submitPermissions:function(t,e){var r=new Object;r[t.namespace]=new Object,r[t.namespace][e.name]=e.value,a.ih.put("/api/nexopos/v4/users/roles",r).subscribe((function(t){a.kX.success(t.message,null,{duration:3e3}).subscribe()}))},loadPermissionsAndRoles:function(){var t=this;return(0,F.D)(a.ih.get("/api/nexopos/v4/users/roles"),a.ih.get("/api/nexopos/v4/users/permissions")).subscribe((function(e){t.permissions=e[1],t.roles=e[0].map((function(e){return e.fields={},e.field={type:"checkbox",name:e.namespace,value:!1},t.permissions.forEach((function(t){e.fields[t.namespace]={type:"checkbox",value:e.permissions.filter((function(e){return e.namespace===t.namespace})).length>0,name:t.namespace,label:null}})),e}))}))}}};const N=(0,p.Z)(A,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"permission-wrapper"}},[e("div",{staticClass:"rounded shadow bg-white flex"},[e("div",{staticClass:"w- bg-gray-800 flex-shrink-0",attrs:{id:"permissions"}},[e("div",{staticClass:"h-24 py-4 px-2 border-b border-gray-700 text-gray-100 flex justify-between items-center"},[t.toggled?t._e():e("span",[t._v(t._s(t.__("Permissions")))]),t._v(" "),e("div",[t.toggled?t._e():e("button",{staticClass:"rounded-full bg-white text-gray-700 h-6 w-6 flex items-center justify-center",on:{click:function(e){t.toggled=!t.toggled}}},[e("i",{staticClass:"las la-expand"})]),t._v(" "),t.toggled?e("button",{staticClass:"rounded-full bg-white text-gray-700 h-6 w-6 flex items-center justify-center",on:{click:function(e){t.toggled=!t.toggled}}},[e("i",{staticClass:"las la-compress"})]):t._e()])]),t._v(" "),t._l(t.permissions,(function(r){return e("div",{key:r.id,staticClass:"p-2 border-b border-gray-700 text-gray-100",class:t.toggled?"w-24":"w-54"},[e("a",{attrs:{href:"javascript:void(0)",title:r.namespace}},[t.toggled?t._e():e("span",[t._v(t._s(r.name))]),t._v(" "),t.toggled?e("span",[t._v(t._s(t._f("truncate")(r.name,5)))]):t._e()])])}))],2),t._v(" "),e("div",{staticClass:"flex flex-auto overflow-hidden"},[e("div",{staticClass:"overflow-y-auto"},[e("div",{staticClass:"text-gray-700 flex"},t._l(t.roles,(function(r){return e("div",{key:r.id,staticClass:"h-24 py-4 px-2 w-56 items-center border-b justify-center flex role flex-shrink-0 border-r border-gray-200"},[e("p",{staticClass:"mx-1"},[e("span",[t._v(t._s(r.name))])]),t._v(" "),e("span",{staticClass:"mx-1"},[e("ns-checkbox",{attrs:{field:r.field},on:{change:function(e){return t.selectAllPermissions(r)}}})],1)])})),0),t._v(" "),t._l(t.permissions,(function(r){return e("div",{key:r.id,staticClass:"permission flex"},t._l(t.roles,(function(s){return e("div",{key:s.id,staticClass:"border-b border-gray-200 w-56 flex-shrink-0 p-2 flex items-center justify-center border-r"},[e("ns-checkbox",{attrs:{field:s.fields[r.namespace]},on:{change:function(e){return t.submitPermissions(s,s.fields[r.namespace])}}})],1)})),0)}))],2)])])])}),[],!1,null,null,null).exports;var L=r(7995);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){var s;return s=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=V(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==V(s)?s:String(s))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const R={data:function(){return{formValidation:new i.Z,nsSnackBar:a.kX,nsHttpClient:a.ih,_sampleVariation:null,form:""}},computed:{defaultVariation:function(){var t=new Object;for(var e in this._sampleVariation.tabs)t[e]=new Object,t[e].label=this._sampleVariation.tabs[e].label,t[e].active=this._sampleVariation.tabs[e].active,t[e].fields=this._sampleVariation.tabs[e].fields.filter((function(t){return console.log(t),!["category_id","product_type","stock_management","expires"].includes(t.name)})).map((function(t){return t.value="",t}));return{id:"",tabs:t}}},props:["submit-method","submit-url","return-url","src","units-url"],methods:{__:o.__,getUnitQuantity:function(t){var e=t.filter((function(t){return"quantity"===t.name})).map((function(t){return t.value}));return e.length>0?e[0]:0},removeUnitPriceGroup:function(t,e){var r=this,s=t.filter((function(t){return"id"===t.name&&void 0!==t.value}));Popup.show(L.Z,{title:(0,o.__)("Confirm Your Action"),message:(0,o.__)("Would you like to delete this group ?"),onAction:function(n){if(n)if(s.length>0)r.confirmUnitQuantityDeletion({group_fields:t,group:e});else{var i=e.indexOf(t);e.splice(i,1)}}})},confirmUnitQuantityDeletion:function(t){var e=t.group_fields,r=t.group;Popup.show(L.Z,{title:(0,o.__)("Your Attention Is Required"),size:"w-3/4-screen h-2/5-screen",message:(0,o.__)("The current unit you're about to delete has a reference on the database and it might have already procured stock. Deleting that reference will remove procured stock. Would you proceed ?"),onAction:function(t){if(t){var s=e.filter((function(t){return"id"===t.name})).map((function(t){return t.value}))[0];a.ih.delete("/api/nexopos/v4/products/units/quantity/".concat(s)).subscribe((function(t){var s=r.indexOf(e);r.splice(s,1),a.kX.success(t.message).subscribe()}),(function(t){nsSnackbar.error(t.message).subscribe()}))}}})},addUnitGroup:function(t){if(0===t.options.length)return a.kX.error((0,o.__)("Please select at least one unit group before you proceed.")).subscribe();t.options.length>t.groups.length?t.groups.push(JSON.parse(JSON.stringify(t.fields))):a.kX.error((0,o.__)("There shoulnd't be more option than there are units.")).subscribe()},loadAvailableUnits:function(t){var e=this;a.ih.get(this.unitsUrl.replace("{id}",t.fields.filter((function(t){return"unit_group"===t.name}))[0].value)).subscribe((function(r){t.fields.forEach((function(t){"group"===t.type&&(t.options=r,t.fields.forEach((function(t){"unit_id"===t.name&&(console.log(t),t.options=r.map((function(t){return{label:t.name,value:t.id}})))})))})),e.$forceUpdate()}))},loadOptionsFor:function(t,e,r){var s=this;a.ih.get(this.unitsUrl.replace("{id}",e)).subscribe((function(e){s.form.variations[r].tabs.units.fields.forEach((function(r){r.name===t&&(r.options=e.map((function(t){return{label:t.name,value:t.id,selected:!1}})))})),s.$forceUpdate()}))},submit:function(){var t=this;if(this.formValidation.validateFields([this.form.main]),this.form.variations.map((function(e){return t.formValidation.validateForm(e)})).filter((function(t){return t.length>0})).length>0||Object.values(this.form.main.errors).length>0)return a.kX.error(this.$slots["error-form-invalid"]?this.$slots["error-form-invalid"][0].text:(0,o.__)("Unable to proceed the form is not valid.")).subscribe();var e=this.form.variations.map((function(t,e){return t.tabs.images.groups.filter((function(t){return t.filter((function(t){return"primary"===t.name&&1===t.value})).length>0}))}));if(e[0]&&e[0].length>1)return a.kX.error(this.$slots["error-multiple-primary"]?this.$slots["error-multiple-primary"][0].text:(0,o.__)("Unable to proceed, more than one product is set as primary")).subscribe();var r=[];if(this.form.variations.map((function(e,s){return e.tabs.units.fields.filter((function(t){return"group"===t.type})).forEach((function(e){new Object;e.groups.forEach((function(e){r.push(t.formValidation.validateFields(e))}))}))})),0===r.length)return a.kX.error(this.$slots["error-no-units-groups"]?this.$slots["error-no-units-groups"][0].text:(0,o.__)("Either Selling or Purchase unit isn't defined. Unable to proceed.")).subscribe();if(r.filter((function(t){return!1===t})).length>0)return this.$forceUpdate(),a.kX.error(this.$slots["error-invalid-unit-group"]?this.$slots["error-invalid-unit-group"][0].text:(0,o.__)("Unable to proceed as one of the unit group field is invalid")).subscribe();var s=M(M({},this.formValidation.extractForm(this.form)),{},{variations:this.form.variations.map((function(e,r){var s=t.formValidation.extractForm(e);0===r&&(s.$primary=!0),s.images=e.tabs.images.groups.map((function(e){return t.formValidation.extractFields(e)}));var n=new Object;return e.tabs.units.fields.filter((function(t){return"group"===t.type})).forEach((function(e){n[e.name]=e.groups.map((function(e){return t.formValidation.extractFields(e)}))})),s.units=M(M({},s.units),n),s}))});this.formValidation.disableForm(this.form),a.ih[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,s).subscribe((function(e){if("success"===e.status){if(!1!==t.returnUrl)return document.location=t.returnUrl;t.$emit("save")}t.formValidation.enableForm(t.form)}),(function(e){a.kX.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.enableForm(t.form),e.response&&t.formValidation.triggerError(t.form,e.response.data)}))},deleteVariation:function(t){confirm(this.$slots["delete-variation"]?this.$slots["delete-variation"][0].text:(0,o.__)("Would you like to delete this variation ?"))&&this.form.variations.splice(t,1)},setTabActive:function(t,e){for(var r in e)r!==t&&(e[r].active=!1);e[t].active=!0,"units"===t&&this.loadAvailableUnits(e[t])},duplicate:function(t){this.form.variations.push(Object.assign({},t))},newVariation:function(){this.form.variations.push(this.defaultVariation)},getActiveTab:function(t){for(var e in t)if(t[e].active)return t[e];return!1},getActiveTabKey:function(t){for(var e in t)if(t[e].active)return e;return!1},parseForm:function(t){var e=this;return t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0],t.variations.forEach((function(t,r){var s=0;for(var n in t.tabs)0===s&&void 0===t.tabs[n].active?(t.tabs[n].active=!0,e._sampleVariation=Object.assign({},t),t.tabs[n].fields&&(t.tabs[n].fields=e.formValidation.createFields(t.tabs[n].fields.filter((function(t){return"name"!==t.name}))))):t.tabs[n].fields&&(t.tabs[n].fields=e.formValidation.createFields(t.tabs[n].fields)),t.tabs[n].active=void 0!==t.tabs[n].active&&t.tabs[n].active,s++})),t},loadForm:function(){var t=this;a.ih.get("".concat(this.src)).subscribe((function(e){t.form=t.parseForm(e.form)}))},addImage:function(t){t.tabs.images.groups.push(this.formValidation.createFields(JSON.parse(JSON.stringify(t.tabs.images.fields))))}},mounted:function(){this.loadForm()},name:"ns-manage-products"};const U=(0,p.Z)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form flex-auto",attrs:{id:"crud-form"}},[0===Object.values(t.form).length?e("div",{staticClass:"flex items-center h-full justify-center flex-auto"},[e("ns-spinner")],1):t._e(),t._v(" "),Object.values(t.form).length>0?[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex justify-between items-center"},[e("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._v(t._s(t.form.main.label))]),t._v(" "),e("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?e("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v("Return")]):t._e()])]),t._v(" "),e("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),e("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",(function(){return[t._v(t._s(t.__("Save")))]}))],2)]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?e("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(r,s){return e("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[e("span",[t._t("error-required",(function(){return[t._v(t._s(r.identifier))]}))],2)])}))],2),t._v(" "),e("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[e("div",{staticClass:"px-4 w-full"},t._l(t.form.variations,(function(r,s){return e("div",{key:s,staticClass:"mb-8",attrs:{id:"tabbed-card"}},[e("div",{staticClass:"flex flex-wrap justify-between",attrs:{id:"card-header"}},[e("div",{staticClass:"flex flex-wrap"},t._l(r.tabs,(function(s,n){return e("div",{key:n,staticClass:"cursor-pointer text-gray-700 px-4 py-2 rounded-tl-lg rounded-tr-lg flex justify-between",class:s.active?"bg-white":"bg-gray-100",on:{click:function(e){return t.setTabActive(n,r.tabs)}}},[e("span",{staticClass:"block mr-2"},[t._v(t._s(s.label))]),t._v(" "),s.errors&&s.errors.length>0?e("span",{staticClass:"rounded-full bg-red-400 text-white h-6 w-6 flex font-semibold items-center justify-center"},[t._v(t._s(s.errors.length))]):t._e()])})),0),t._v(" "),e("div",{staticClass:"flex items-center justify-center -mx-1"})]),t._v(" "),e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},[["images","units"].includes(t.getActiveTabKey(r.tabs))?t._e():e("div",{staticClass:"-mx-4 flex flex-wrap"},[t._l(t.getActiveTab(r.tabs).fields,(function(t,r){return[e("div",{key:r,staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3"},[e("ns-field",{attrs:{field:t}})],1)]}))],2),t._v(" "),"images"===t.getActiveTabKey(r.tabs)?e("div",{staticClass:"-mx-4 flex flex-wrap"},[e("div",{staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3"},[e("div",{staticClass:"rounded border flex bg-white justify-between p-2 items-center"},[e("span",[t._v(t._s(t.__("Add Images")))]),t._v(" "),e("button",{staticClass:"rounded-full border flex items-center justify-center w-8 h-8 bg-white hover:bg-blue-400 hover:text-white",on:{click:function(e){return t.addImage(r)}}},[e("i",{staticClass:"las la-plus-circle"})])])]),t._v(" "),t._l(t.getActiveTab(r.tabs).groups,(function(r,s){return e("div",{key:s,staticClass:"flex flex-col px-4 w-full md:w-1/2 lg:w-1/3 mb-4"},[e("div",{staticClass:"rounded border flex flex-col bg-white p-2"},t._l(r,(function(t,r){return e("ns-field",{key:r,attrs:{field:t}})})),1)])}))],2):t._e(),t._v(" "),"units"===t.getActiveTabKey(r.tabs)?e("div",{staticClass:"-mx-4 flex flex-wrap"},[e("div",{staticClass:"px-4 w-full md:w-1/2 lg:w-1/3"},[e("ns-field",{attrs:{field:t.getActiveTab(r.tabs).fields[0]},on:{change:function(e){t.loadAvailableUnits(t.getActiveTab(r.tabs))}}}),t._v(" "),e("ns-field",{attrs:{field:t.getActiveTab(r.tabs).fields[1]},on:{change:function(e){t.loadAvailableUnits(t.getActiveTab(r.tabs))}}})],1),t._v(" "),t._l(t.getActiveTab(r.tabs).fields,(function(r,s){return["group"===r.type?e("div",{key:s,staticClass:"px-4 w-full lg:w-2/3"},[e("div",{staticClass:"mb-2"},[e("label",{staticClass:"font-medium text-gray-700"},[t._v(t._s(r.label))]),t._v(" "),e("p",{staticClass:"py-1 text-sm text-gray-600"},[t._v(t._s(r.description))])]),t._v(" "),e("div",{staticClass:"mb-2"},[e("div",{staticClass:"border-dashed border-2 border-gray-200 p-1 bg-gray-100 flex justify-between items-center text-gray-700 cursor-pointer rounded-lg",on:{click:function(e){return t.addUnitGroup(r)}}},[t._m(0,!0),t._v(" "),e("span",[t._v(t._s(t.__("New Group")))])])]),t._v(" "),e("div",{staticClass:"-mx-4 flex flex-wrap"},t._l(r.groups,(function(s,n){return e("div",{key:n,staticClass:"px-4 w-full md:w-1/2 mb-4"},[e("div",{staticClass:"shadow rounded overflow-hidden"},[e("div",{staticClass:"border-b text-sm bg-blue-400 text-white border-blue-300 p-2 flex justify-between"},[e("span",[t._v(t._s(t.__("Available Quantity")))]),t._v(" "),e("span",[t._v(t._s(t.getUnitQuantity(s)))])]),t._v(" "),e("div",{staticClass:"p-2 mb-2"},t._l(s,(function(t,r){return e("ns-field",{key:r,attrs:{field:t}})})),1),t._v(" "),e("div",{staticClass:"p-1 text-red-800 hover:bg-red-200 border-t border-red-200 flex items-center justify-center cursor-pointer font-medium",on:{click:function(e){return t.removeUnitPriceGroup(s,r.groups)}}},[t._v("\n                                                    "+t._s(t.__("Delete"))+"\n                                                ")])])])})),0)]):t._e()]}))],2):t._e()])])})),0)])]:t._e()],2)}),[function(){var t=this._self._c;return t("span",{staticClass:"rounded-full border-2 border-gray-300 bg-white h-8 w-8 flex items-center justify-center"},[t("i",{staticClass:"las la-plus-circle"})])}],!1,null,null,null).exports;function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,I(s.key),s)}}function I(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=X(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:String(e)}var z=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,s;return e=t,s=[{key:"compute",value:function(e,r,s){switch(e){case"inclusive":return t.computeInclusive(r,s);case"exclusive":return t.computeExclusive(r,s)}}},{key:"computeInclusive",value:function(t,e){return t/(e+100)*100}},{key:"computeExclusive",value:function(t,e){return t/100*(e+100)}},{key:"getTaxValue",value:function(e,r,s){switch(e){case"inclusive":return r-t.compute(e,r,s);case"exclusive":return t.compute(e,r,s)-r}return 0}}],(r=null)&&Y(e.prototype,r),s&&Y(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();const W={name:"ns-procurement-product-options",data:function(){return{validation:new i.Z,fields:[],rawFields:[{label:(0,o.__)("Expiration Date"),name:"expiration_date",description:(0,o.__)("Define when that specific product should expire."),type:"datetimepicker"},{label:(0,o.__)("Barcode"),name:"barcode",description:(0,o.__)("Renders the automatically generated barcode."),type:"text",disabled:!0},{label:(0,o.__)("Tax Type"),name:"tax_type",description:(0,o.__)("Adjust how tax is calculated on the item."),type:"select",options:[{label:(0,o.__)("Inclusive"),value:"inclusive"},{label:(0,o.__)("Exclusive"),value:"exclusive"}]}]}},methods:{__:o.__,applyChanges:function(){if(this.validation.validateFields(this.fields)){var t=this.validation.extractFields(this.fields);return this.$popupParams.resolve(t),this.$popup.close()}return a.kX.error((0,o.__)("Unable to proceed. The form is not valid.")).subscribe()}},mounted:function(){var t=this;this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&t.$popup.close()}));var e=this.rawFields.map((function(e){return"expiration_date"===e.name&&(e.value=t.$popupParams.product.procurement.expiration_date),"tax_type"===e.name&&(e.value=t.$popupParams.product.procurement.tax_type),"barcode"===e.name&&(e.value=t.$popupParams.product.procurement.barcode),e}));this.fields=this.validation.createFields(e)}};const G=(0,p.Z)(W,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white shadow-lg w-6/7-screen md:w-5/7-screen lg:w-3/7-screen"},[t._m(0),t._v(" "),e("div",{staticClass:"p-2 border-b border-gray-200"},t._l(t.fields,(function(t,r){return e("ns-field",{key:r,staticClass:"w-full",attrs:{field:t}})})),1),t._v(" "),e("div",{staticClass:"p-2 flex justify-end"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.applyChanges()}}},[t._v("Save")])],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"p-2 border-b border-gray-200"},[t("h5",{staticClass:"font-semibold"},[this._v("Options")])])}],!1,null,null,null).exports;function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function K(t,e,r){var s;return s=function(t,e){if("object"!=H(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=H(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==H(s)?s:String(s))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const J={name:"ns-procurement",mounted:function(){this.reloadEntities()},computed:{activeTab:function(){return this.validTabs.filter((function(t){return t.active})).length>0&&this.validTabs.filter((function(t){return t.active}))[0]}},data:function(){return{totalTaxValues:0,totalPurchasePrice:0,formValidation:new i.Z,form:{},nsSnackBar:a.kX,fields:[],searchResult:[],searchValue:"",debounceSearch:null,nsHttpClient:a.ih,taxes:[],validTabs:[{label:(0,o.__)("Details"),identifier:"details",active:!0},{label:(0,o.__)("Products"),identifier:"products",active:!1}],reloading:!1}},watch:{searchValue:function(t){var e=this;t&&(clearTimeout(this.debounceSearch),this.debounceSearch=setTimeout((function(){e.doSearch(t)}),500))}},components:{NsManageProducts:U},props:["submit-method","submit-url","return-url","src","rules"],methods:{__:o.__,computeTotal:function(){this.totalTaxValues=0,this.form.products.length>0&&(this.totalTaxValues=this.form.products.map((function(t){return t.procurement.tax_value})).reduce((function(t,e){return t+e}))),this.totalPurchasePrice=0,this.form.products.length>0&&(this.totalPurchasePrice=this.form.products.map((function(t){return parseFloat(t.procurement.total_purchase_price)})).reduce((function(t,e){return t+e})))},updateLine:function(t){var e=this.form.products[t],r=this.taxes.filter((function(t){return t.id===e.procurement.tax_group_id}));if(parseFloat(e.procurement.purchase_price_edit)>0&&parseFloat(e.procurement.quantity)>0){if(r.length>0){var s=r[0].taxes.map((function(t){return z.getTaxValue(e.procurement.tax_type,e.procurement.purchase_price_edit,parseFloat(t.rate))}));e.procurement.tax_value=s.reduce((function(t,e){return t+e})),"inclusive"===e.procurement.tax_type?(e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit)-e.procurement.tax_value,e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.gross_purchase_price)):(e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit)+e.procurement.tax_value,e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.gross_purchase_price))}else e.procurement.gross_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.net_purchase_price=parseFloat(e.procurement.purchase_price_edit),e.procurement.tax_value=0;e.procurement.tax_value=e.procurement.tax_value*parseFloat(e.procurement.quantity),e.procurement.total_purchase_price=e.procurement.purchase_price*parseFloat(e.procurement.quantity)}this.computeTotal(),this.$forceUpdate()},fetchLastPurchasePrice:function(t){var e=this.form.products[t],r=e.unit_quantities.filter((function(t){return e.procurement.unit_id===t.unit_id}));r.length>0&&(e.procurement.purchase_price_edit=r[0].last_purchase_price||0),this.updateLine(t)},switchTaxType:function(t,e){t.procurement.tax_type="inclusive"===t.procurement.tax_type?"exclusive":"inclusive",this.updateLine(e)},doSearch:function(t){var e=this;a.ih.post("/api/nexopos/v4/procurements/products/search-product",{search:t}).subscribe((function(t){1===t.length?e.addProductList(t[0]):t.length>1?e.searchResult=t:a.kX.error((0,o.__)("No result match your query.")).subscribe()}))},reloadEntities:function(){var t=this;this.reloading=!0,(0,F.D)([a.ih.get("/api/nexopos/v4/categories"),a.ih.get("/api/nexopos/v4/products"),a.ih.get(this.src),a.ih.get("/api/nexopos/v4/taxes/groups")]).subscribe((function(e){t.reloading=!1,t.categories=e[0],t.products=e[1],t.taxes=e[3],t.form.general&&e[2].tabs.general.fieds.forEach((function(e,r){e.value=t.form.tabs.general.fields[r].value||""})),t.form=Object.assign(JSON.parse(JSON.stringify(e[2])),t.form),t.form=t.formValidation.createForm(t.form),t.form.tabs&&t.form.tabs.general.fields.forEach((function(t,r){t.options&&(t.options=e[2].tabs.general.fields[r].options)})),0===t.form.products.length&&(t.form.products=t.form.products.map((function(t){return["gross_purchase_price","purchase_price_edit","tax_value","net_purchase_price","purchase_price","total_price","total_purchase_price","quantity","tax_group_id"].forEach((function(e){void 0===t[e]&&(t[e]=void 0===t[e]?0:t[e])})),t.$invalid=t.$invalid||!1,t.purchase_price_edit=t.purchase_price,{name:t.name,purchase_units:t.purchase_units,procurement:t,unit_quantities:t.unit_quantities||[]}}))),t.$forceUpdate()}))},setTabActive:function(t){this.validTabs.forEach((function(t){return t.active=!1})),this.$forceUpdate(),this.$nextTick().then((function(){t.active=!0}))},addProductList:function(t){if(void 0===t.unit_quantities)return a.kX.error((0,o.__)("Unable to add product which doesn't unit quantities defined.")).subscribe();t.procurement=new Object,t.procurement.gross_purchase_price=0,t.procurement.purchase_price_edit=0,t.procurement.tax_value=0,t.procurement.net_purchase_price=0,t.procurement.purchase_price=0,t.procurement.total_price=0,t.procurement.total_purchase_price=0,t.procurement.quantity=1,t.procurement.expiration_date=null,t.procurement.tax_group_id=0,t.procurement.tax_type="inclusive",t.procurement.unit_id=0,t.procurement.product_id=t.id,t.procurement.procurement_id=null,t.procurement.$invalid=!1,this.searchResult=[],this.searchValue="",this.form.products.push(t)},submit:function(){var t=this;if(0===this.form.products.length)return a.kX.error(this.$slots["error-no-products"]?this.$slots["error-no-products"][0].text:(0,o.__)("Unable to proceed, no product were provided."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();if(this.form.products.forEach((function(t){!parseFloat(t.procurement.quantity)>=1||0===t.procurement.unit_id?t.procurement.$invalid=!0:t.procurement.$invalid=!1})),this.form.products.filter((function(t){return t.procurement.$invalid})).length>0)return a.kX.error(this.$slots["error-invalid-products"]?this.$slots["error-invalid-products"][0].text:(0,o.__)("Unable to proceed, one or more product has incorrect values."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();if(this.formValidation.validateForm(this.form).length>0)return this.setTabActive(this.activeTab),a.kX.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:(0,o.__)("Unable to proceed, the procurement form is not valid."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();if(void 0===this.submitUrl)return a.kX.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:(0,o.__)("Unable to submit, no valid submit URL were provided."),this.$slots.okay?this.$slots.okay[0].text:(0,o.__)("OK")).subscribe();this.formValidation.disableForm(this.form);var e=Q(Q({},this.formValidation.extractForm(this.form)),{products:this.form.products.map((function(t){return t.procurement}))});a.ih[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,e).subscribe((function(e){if("success"===e.status)return document.location=t.returnUrl;t.formValidation.enableForm(t.form)}),(function(e){a.kX.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.enableForm(t.form),e.errors&&t.formValidation.triggerError(t.form,e.errors)}))},deleteProduct:function(t){this.form.products.splice(t,1),this.$forceUpdate()},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},setProductOptions:function(t){var e=this;new Promise((function(r,s){Popup.show(G,{product:e.form.products[t],resolve:r,reject:s})})).then((function(r){for(var s in r)e.form.products[t].procurement[s]=r[s];e.updateLine(t)}))}}};const tt=(0,p.Z)(J,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form flex-auto flex flex-col",attrs:{id:"crud-form"}},[t.form.main?[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex justify-between items-center"},[e("label",{staticClass:"font-bold my-2 text-gray-700",attrs:{for:"title"}},[t._v(t._s(t.form.main.label||t.__("No title is provided")))]),t._v(" "),e("div",{staticClass:"text-sm my-2 text-gray-700",attrs:{for:"title"}},[t.returnUrl?e("a",{staticClass:"rounded-full border border-gray-400 hover:bg-red-600 hover:text-white bg-white px-2 py-1",attrs:{href:t.returnUrl}},[t._v(t._s(t.__("Go Back")))]):t._e()])]),t._v(" "),e("div",{staticClass:"flex border-2 rounded overflow-hidden",class:t.form.main.disabled?"border-gray-500":t.form.main.errors.length>0?"border-red-600":"border-blue-500"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.main.value,expression:"form.main.value"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",class:t.form.main.disabled?"bg-gray-400":"",attrs:{disabled:t.form.main.disabled,type:"text"},domProps:{value:t.form.main.value},on:{blur:function(e){return t.formValidation.checkField(t.form.main)},change:function(e){return t.formValidation.checkField(t.form.main)},input:function(e){e.target.composing||t.$set(t.form.main,"value",e.target.value)}}}),t._v(" "),e("button",{staticClass:"outline-none px-4 h-10 text-white border-l border-gray-400",class:t.form.main.disabled?"bg-gray-500":t.form.main.errors.length>0?"bg-red-500":"bg-blue-500",attrs:{disabled:t.form.main.disabled},on:{click:function(e){return t.submit()}}},[t._t("save",(function(){return[t._v(t._s(t.__("Save")))]}))],2),t._v(" "),e("button",{staticClass:"bg-white text-gray-700 outline-none px-4 h-10 border-gray-400",on:{click:function(e){return t.reloadEntities()}}},[e("i",{staticClass:"las la-sync",class:t.reloading?"animate animate-spin":""})])]),t._v(" "),t.form.main.description&&0===t.form.main.errors.length?e("p",{staticClass:"text-xs text-gray-600 py-1"},[t._v(t._s(t.form.main.description))]):t._e(),t._v(" "),t._l(t.form.main.errors,(function(r,s){return e("p",{key:s,staticClass:"text-xs py-1 text-red-500"},[e("span",[t._t("error-required",(function(){return[t._v(t._s(r.identifier))]}))],2)])}))],2),t._v(" "),e("div",{staticClass:"-mx-4 flex flex-wrap mt-4",attrs:{id:"form-container"}},[e("div",{staticClass:"px-4 w-full"},[e("div",{attrs:{id:"tabbed-card"}},[e("div",{staticClass:"flex flex-wrap",attrs:{id:"card-header"}},t._l(t.validTabs,(function(r,s){return e("div",{key:s,staticClass:"cursor-pointer px-4 py-2 rounded-tl-lg rounded-tr-lg text-gray-700",class:r.active?"bg-white":"bg-gray-100",on:{click:function(e){return t.setTabActive(r)}}},[t._v("\n                            "+t._s(r.label)+"\n                        ")])})),0),t._v(" "),"details"===t.activeTab.identifier?e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},[t.form.tabs?e("div",{staticClass:"-mx-4 flex flex-wrap"},t._l(t.form.tabs.general.fields,(function(t,r){return e("div",{key:r,staticClass:"flex px-4 w-full md:w-1/2 lg:w-1/3"},[e("ns-field",{attrs:{field:t}})],1)})),0):t._e()]):t._e(),t._v(" "),"products"===t.activeTab.identifier?e("div",{staticClass:"card-body bg-white rounded-br-lg rounded-bl-lg shadow p-2"},[e("div",{staticClass:"mb-2"},[e("div",{staticClass:"border-blue-500 flex border-2 rounded overflow-hidden"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"flex-auto text-gray-700 outline-none h-10 px-2",attrs:{type:"text",placeholder:t.$slots["search-placeholder"]?t.$slots["search-placeholder"][0].text:"SKU, Barcode, Name"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"h-0"},[e("div",{staticClass:"shadow bg-white relative z-10"},t._l(t.searchResult,(function(r,s){return e("div",{key:s,staticClass:"cursor-pointer border border-b border-gray-300 p-2 text-gray-700",on:{click:function(e){return t.addProductList(r)}}},[e("span",{staticClass:"block font-bold text-gray-700"},[t._v(t._s(r.name))]),t._v(" "),e("span",{staticClass:"block text-sm text-gray-600"},[t._v(t._s(t.__("SKU"))+" : "+t._s(r.sku))]),t._v(" "),e("span",{staticClass:"block text-sm text-gray-600"},[t._v(t._s(t.__("Barcode"))+" : "+t._s(r.barcode))])])})),0)])]),t._v(" "),e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"w-full"},[e("thead",[e("tr",t._l(t.form.columns,(function(r,s){return e("td",{key:s,staticClass:"text-gray-700 p-2 border border-gray-300 bg-gray-200",attrs:{width:"200"}},[t._v(t._s(r.label))])})),0)]),t._v(" "),e("tbody",[t._l(t.form.products,(function(r,s){return e("tr",{key:s,class:r.procurement.$invalid?"bg-red-200 border-2 border-red-500":"bg-gray-100"},[t._l(t.form.columns,(function(n,i){return["name"===n.type?e("td",{key:i,staticClass:"p-2 text-gray-600 border border-gray-300"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(r.name))]),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",{staticClass:"flex -mx-1 flex-col"},[e("div",{staticClass:"px-1"},[e("span",{staticClass:"text-xs text-red-500 cursor-pointer underline px-1",on:{click:function(e){return t.deleteProduct(s)}}},[t._v(t._s(t.__("Delete")))])])]),t._v(" "),e("div",{staticClass:"flex -mx-1 flex-col"},[e("div",{staticClass:"px-1"},[e("span",{staticClass:"text-xs text-red-500 cursor-pointer underline px-1",on:{click:function(e){return t.setProductOptions(s)}}},[t._v(t._s(t.__("Options")))])])])])]):t._e(),t._v(" "),"text"===n.type?e("td",{key:i,staticClass:"p-2 w-3 text-gray-600 border border-gray-300"},[e("div",{staticClass:"flex items-start"},[e("input",{directives:[{name:"model",rawName:"v-model",value:r.procurement[i],expression:"product.procurement[ key ]"}],staticClass:"w-24 border-2 p-2 border-blue-400 rounded",attrs:{type:"text"},domProps:{value:r.procurement[i]},on:{change:function(e){return t.updateLine(s)},input:function(e){e.target.composing||t.$set(r.procurement,i,e.target.value)}}})])]):t._e(),t._v(" "),"tax_group_id"===n.type?e("td",{key:i,staticClass:"p-2 text-gray-600 border border-gray-300"},[e("div",{staticClass:"flex items-start"},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.procurement.tax_group_id,expression:"product.procurement.tax_group_id"}],staticClass:"rounded border-blue-500 border-2 p-2",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r.procurement,"tax_group_id",e.target.multiple?s:s[0])},function(e){return t.updateLine(s)}]}},t._l(t.taxes,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v(t._s(r.name))])})),0)])]):t._e(),t._v(" "),"custom_select"===n.type?e("td",{key:i,staticClass:"p-2 text-gray-600 border border-gray-300"},[e("div",{staticClass:"flex items-start"},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.procurement[i],expression:"product.procurement[ key ]"}],staticClass:"rounded border-blue-500 border-2 p-2",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r.procurement,i,e.target.multiple?s:s[0])},function(e){return t.updateLine(s)}]}},t._l(n.options,(function(r){return e("option",{key:r.value,domProps:{value:r.value}},[t._v(t._s(r.label))])})),0)])]):t._e(),t._v(" "),"currency"===n.type?e("td",{key:i,staticClass:"p-2 text-gray-600 border border-gray-300"},[e("div",{staticClass:"flex items-start flex-col justify-end"},[e("span",{staticClass:"text-sm text-gray-600"},[t._v(t._s(t._f("currency")(r.procurement[i])))])])]):t._e(),t._v(" "),"unit_quantities"===n.type?e("td",{key:i,staticClass:"p-2 text-gray-600 border border-gray-300"},[e("div",{staticClass:"flex items-start"},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.procurement.unit_id,expression:"product.procurement.unit_id"}],staticClass:"rounded border-blue-500 border-2 p-2 w-32",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r.procurement,"unit_id",e.target.multiple?s:s[0])},function(e){return t.fetchLastPurchasePrice(s)}]}},t._l(r.unit_quantities,(function(r){return e("option",{key:r.id,domProps:{value:r.unit.id}},[t._v(t._s(r.unit.name))])})),0)])]):t._e()]}))],2)})),t._v(" "),e("tr",{staticClass:"bg-gray-100"},[e("td",{staticClass:"p-2 text-gray-600 border border-gray-300",attrs:{colspan:Object.keys(t.form.columns).indexOf("tax_value")}}),t._v(" "),e("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[t._v(t._s(t._f("currency")(t.totalTaxValues)))]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600 border border-gray-300",attrs:{colspan:Object.keys(t.form.columns).indexOf("total_purchase_price")-(Object.keys(t.form.columns).indexOf("tax_value")+1)}}),t._v(" "),e("td",{staticClass:"p-2 text-gray-600 border border-gray-300"},[t._v(t._s(t._f("currency")(t.totalPurchasePrice)))])])],2)])])]):t._e()])])])]:t._e()],2)}),[],!1,null,null,null).exports,et={template:"#ns-procurement-invoice",methods:{printInvoice:function(){this.$htmlToPaper("printable-container")}}};const rt=(0,p.Z)(et,undefined,undefined,!1,null,null,null).exports;const st={name:"ns-notifications",data:function(){return{notifications:[],visible:!1,interval:null}},mounted:function(){var t=this;document.addEventListener("click",this.checkClickedItem),ns.websocket.enabled?Echo.private("ns.private-channel").listen("App\\Events\\NotificationDispatchedEvent",(function(e){t.pushNotificationIfNew(e.notification)})).listen("App\\Events\\NotificationDeletedEvent",(function(e){t.deleteNotificationIfExists(e.notification)})):this.interval=setInterval((function(){t.loadNotifications()}),15e3),this.loadNotifications()},destroyed:function(){clearInterval(this.interval)},methods:{__:o.__,pushNotificationIfNew:function(t){var e=this.notifications.filter((function(e){return e.id===t.id})).length>0;console.log(t),e||this.notifications.push(t)},deleteNotificationIfExists:function(t){var e=this.notifications.filter((function(e){return e.id===t.id}));if(e.length>0){var r=this.notifications.indexOf(e[0]);this.notifications.splice(r,1)}},deleteAll:function(){Popup.show(L.Z,{title:(0,o.__)("Confirm Your Action"),message:(0,o.__)("Would you like to clear all the notifications ?"),onAction:function(t){t&&a.ih.delete("/api/nexopos/v4/notifications/all").subscribe((function(t){a.kX.success(t.message).subscribe()}))}})},checkClickedItem:function(t){var e;e=!!document.getElementById("notification-center")&&document.getElementById("notification-center").contains(t.srcElement);var r=document.getElementById("notification-button").contains(t.srcElement);e||r||!this.visible||(this.visible=!1)},loadNotifications:function(){var t=this;a.ih.get("/api/nexopos/v4/notifications").subscribe((function(e){t.notifications=e}))},triggerLink:function(t){if("url"!==t.url)return window.open(t.url,"_blank")},closeNotice:function(t,e){var r=this;a.ih.delete("/api/nexopos/v4/notifications/".concat(e.id)).subscribe((function(t){r.loadNotifications()})),t.stopPropagation()}}};const nt=(0,p.Z)(st,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"hover:bg-white hover:text-gray-700 hover:shadow-lg hover:border-opacity-0 rounded-full h-12 w-12 cursor-pointer font-bold text-2xl justify-center items-center flex text-gray-800",class:t.visible?"bg-white border-0 shadow-lg":"border border-gray-400",attrs:{id:"notification-button"},on:{click:function(e){t.visible=!t.visible}}},[t.notifications.length>0?e("div",{staticClass:"relative float-right"},[e("div",{staticClass:"absolute -ml-6 -mt-8"},[e("div",{staticClass:"bg-blue-400 text-white w-8 h-8 rounded-full text-xs flex items-center justify-center"},[t._v(t._s(t._f("abbreviate")(t.notifications.length)))])])]):t._e(),t._v(" "),e("i",{staticClass:"las la-bell"})]),t._v(" "),t.visible?e("div",{staticClass:"h-0 w-0",attrs:{id:"notification-center"}},[e("div",{staticClass:"absolute left-0 top-0 sm:relative w-screen zoom-out-entrance anim-duration-300 h-5/7-screen sm:w-64 sm:h-108 flex flex-row-reverse"},[e("div",{staticClass:"z-50 sm:rounded-lg shadow-lg h-full w-full bg-white md:mt-2 overflow-y-hidden flex flex-col"},[e("div",{staticClass:"sm:hidden p-2 cursor-pointer flex items-center justify-center border-b border-gray-200",on:{click:function(e){t.visible=!1}}},[e("h3",{staticClass:"font-semibold hover:text-blue-400"},[t._v("Close")])]),t._v(" "),e("div",{staticClass:"overflow-y-auto flex flex-col flex-auto"},[t._l(t.notifications,(function(r){return e("div",{key:r.id,staticClass:"notice border-b border-gray-200"},[e("div",{staticClass:"p-2 cursor-pointer",on:{click:function(e){return t.triggerLink(r)}}},[e("div",{staticClass:"flex items-center justify-between"},[e("h1",{staticClass:"font-semibold text-gray-700"},[t._v(t._s(r.title))]),t._v(" "),e("ns-close-button",{on:{click:function(e){return t.closeNotice(e,r)}}})],1),t._v(" "),e("p",{staticClass:"py-1 text-gray-600 text-sm"},[t._v(t._s(r.description))])])])})),t._v(" "),0===t.notifications.length?e("div",{staticClass:"h-full w-full flex items-center justify-center"},[e("div",{staticClass:"flex flex-col items-center"},[e("i",{staticClass:"las la-laugh-wink text-5xl text-gray-800"}),t._v(" "),e("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.__("Nothing to care about !")))])])]):t._e()],2),t._v(" "),e("div",{staticClass:"cursor-pointer"},[e("h3",{staticClass:"text-sm p-2 flex items-center justify-center hover:bg-red-100 w-full text-red-400 font-semibold hover:text-red-500",on:{click:function(e){return t.deleteAll()}}},[t._v(t._s(t.__("Clear All")))])])])])]):t._e()])}),[],!1,null,null,null).exports;var it=r(9045),at=r(381),ot=r.n(at),lt=r(5425),ct=r(7217);const ut={name:"ns-low-stock-report",mounted:function(){},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},data:function(){return{products:[]}},computed:{},methods:{printSaleReport:function(){this.$htmlToPaper("low-stock-report")},loadReport:function(){var t=this;a.ih.get("/api/nexopos/v4/reports/low-stock").subscribe({next:function(e){t.products=e},error:function(t){a.kX.error(t.message).subscribe()}})}}};const dt=(0,p.Z)(ut,undefined,undefined,!1,null,null,null).exports;var ft=r(2763);function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function ht(){ht=function(){return e};var t,e={},r=Object.prototype,s=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,s){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),o=new D(s||[]);return n(a,"_invoke",{value:S(t,r,o)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function b(){}function g(){}function _(){}var y={};c(y,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(E([])));w&&w!==r&&s.call(w,a)&&(y=w);var C=_.prototype=b.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(n,i,a,o){var l=d(t[n],t,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==pt(u)&&s.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,o)}),(function(t){r("throw",t,a,o)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,o)}))}o(l.arg)}var i;n(this,"_invoke",{value:function(t,s){function n(){return new e((function(e,n){r(t,s,e,n)}))}return i=i?i.then(n,n):n()}})}function S(e,r,s){var n=f;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:t,done:!0}}for(s.method=i,s.arg=a;;){var o=s.delegate;if(o){var l=P(o,s);if(l){if(l===v)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===f)throw n=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=h;var c=d(e,r,s);if("normal"===c.type){if(n=s.done?m:p,c.arg===v)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(n=m,s.method="throw",s.arg=c.arg)}}}function P(e,r){var s=r.method,n=e.iterator[s];if(n===t)return r.delegate=null,"throw"===s&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==s&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+s+"' method")),v;var i=d(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(s.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pt(e)+" is not iterable")}return g.prototype=_,n(C,"constructor",{value:_,configurable:!0}),n(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},k(j.prototype),c(j.prototype,o,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,s,n,i){void 0===i&&(i=Promise);var a=new j(u(t,r,s,n),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var s in e)r.push(s);return r.reverse(),function t(){for(;r.length;){var s=r.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=E,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(s,n){return o.type="throw",o.arg=e,r.next=s,n&&(r.method="next",r.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=s.call(a,"catchLoc"),c=s.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if("throw"===s.type){var n=s.arg;$(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,s){return this.delegate={iterator:E(e),resultName:r,nextLoc:s},"next"===this.method&&(this.arg=t),v}},e}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bt(t,e,r){var s;return s=function(t,e){if("object"!=pt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=pt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==pt(s)?s:String(s))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gt(t,e,r,s,n,i,a){try{var o=t[i](a),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(s,n)}const _t={name:"ns-sale-report",data:function(){return{startDate:ot()(),endDate:ot()(),result:[],summary:{},reportType:{label:(0,o.__)("Report Type"),name:"reportType",type:"select",value:"categories_report",options:[{label:(0,o.__)("Categories Detailed"),name:"categories_report"},{label:(0,o.__)("Categories Summary"),name:"categories_summary"},{label:(0,o.__)("Products"),name:"products_report"}],description:(0,o.__)("Allow you to choose the report type.")},field:{type:"datetimepicker",value:"2021-02-07",name:"date"}}},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},computed:{},methods:{printSaleReport:function(){this.$htmlToPaper("sale-report")},setStartDate:function(t){this.startDate=t.format()},openSettings:function(){var t,e=this;return(t=ht().mark((function t(){var r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(t,r){Popup.show(ft.Z,vt(vt({},e.reportType),{},{resolve:t,reject:r}))}));case 3:r=t.sent,e.reportType.value=r[0].name,e.result=[],e.loadReport(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(s,n){var i=t.apply(e,r);function a(t){gt(i,s,n,a,o,"next",t)}function o(t){gt(i,s,n,a,o,"throw",t)}a(void 0)}))})()},getType:function(t){var e=this.reportType.options.filter((function(e){return e.name===t}));return e.length>0?e[0].label:(0,o.__)("Unknown")},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return a.kX.error((0,o.__)("Unable to proceed. Select a correct time range.")).subscribe();var e=ot()(this.startDate);if(ot()(this.endDate).isBefore(e))return a.kX.error((0,o.__)("Unable to proceed. The current time range is not valid.")).subscribe();a.ih.post("/api/nexopos/v4/reports/sale-report",{startDate:this.startDate,endDate:this.endDate,type:this.reportType.value}).subscribe({next:function(e){t.result=e.result,t.summary=e.summary},error:function(t){a.kX.error(t.message).subscribe()}})},computeTotal:function(t,e){return t.length>0?(console.log("computes"),t.map((function(t){return parseFloat(t[e])})).reduce((function(t,e){return t+e}))):0},setEndDate:function(t){this.endDate=t.format()}}},yt=_t;const xt=(0,p.Z)(yt,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;const wt={name:"ns-sold-stock-report",data:function(){return{startDate:ot()(),endDate:ot()(),products:[]}},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},computed:{totalQuantity:function(){return this.products.length>0?this.products.map((function(t){return t.quantity})).reduce((function(t,e){return t+e})):0},totalTaxes:function(){return this.products.length>0?this.products.map((function(t){return t.tax_value})).reduce((function(t,e){return t+e})):0},totalPrice:function(){return console.log(this.products),this.products.length>0?this.products.map((function(t){return t.total_price})).reduce((function(t,e){return t+e})):0}},methods:{printSaleReport:function(){this.$htmlToPaper("report-printable")},setStartDate:function(t){this.startDate=t.format()},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return a.kX.error((0,o.__)("Unable to proceed. Select a correct time range.")).subscribe();var e=ot()(this.startDate);if(ot()(this.endDate).isBefore(e))return a.kX.error((0,o.__)("Unable to proceed. The current time range is not valid.")).subscribe();a.ih.post("/api/nexopos/v4/reports/sold-stock-report",{startDate:this.startDate,endDate:this.endDate}).subscribe({next:function(e){t.products=e},error:function(t){a.kX.error(t.message).subscribe()}})},setEndDate:function(t){this.endDate=t.format()}}},Ct=wt;const kt=(0,p.Z)(Ct,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;const jt={name:"ns-profit-report",data:function(){return{startDate:ot()(),endDate:ot()(),products:[]}},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},computed:{totalQuantities:function(){return this.products.length>0?this.products.map((function(t){return t.quantity})).reduce((function(t,e){return t+e})):0},totalPurchasePrice:function(){return this.products.length>0?this.products.map((function(t){return t.total_purchase_price})).reduce((function(t,e){return t+e})):0},totalSalePrice:function(){return this.products.length>0?this.products.map((function(t){return t.total_price})).reduce((function(t,e){return t+e})):0},totalProfit:function(){return this.products.length>0?this.products.map((function(t){return t.total_price-t.total_purchase_price})).reduce((function(t,e){return t+e})):0},totalTax:function(){return this.products.length>0?this.products.map((function(t){return t.tax_value})).reduce((function(t,e){return t+e})):0}},methods:{printSaleReport:function(){this.$htmlToPaper("profit-report")},setStartDate:function(t){this.startDate=t.format()},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return a.kX.error((0,o.__)("Unable to proceed. Select a correct time range.")).subscribe();var e=ot()(this.startDate);if(ot()(this.endDate).isBefore(e))return a.kX.error((0,o.__)("Unable to proceed. The current time range is not valid.")).subscribe();a.ih.post("/api/nexopos/v4/reports/profit-report",{startDate:this.startDate,endDate:this.endDate}).subscribe({next:function(e){t.products=e},error:function(t){a.kX.error(t.message).subscribe()}})},setEndDate:function(t){console.log(t),this.endDate=t.format()}}},St=jt;const Pt=(0,p.Z)(St,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports,Ot={name:"ns-cash-flow",mounted:function(){},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},data:function(){return{startDate:ot()(),endDate:ot()(),report:[]}},computed:{totalDebit:function(){return 0},totalCredit:function(){return 0}},methods:{setStartDate:function(t){this.startDate=t.format()},setEndDate:function(t){this.endDate=t.format()},loadReport:function(){var t=this,e=ot()(this.startDate),r=ot()(this.endDate);a.ih.post("/api/nexopos/v4/reports/cash-flow",{startDate:e,endDate:r}).subscribe({next:function(e){t.report=e,console.log(t.report)},error:function(t){a.kX.error(t.message).subscribe()}})}}},$t=Ot;const Dt=(0,p.Z)($t,undefined,undefined,!1,null,null,null).exports;var Et=r(9341);const Tt={name:"ns-yearly-report",mounted:function(){""!==this.timezone&&(this.year=ns.date.getMoment().format("Y"),this.loadReport())},components:{nsDatepicker:lt.Z,nsNotice:Et.Z,nsDateTimePicker:ct.Z},data:function(){return{startDate:ot()(),endDate:ot()(),report:{},timezone:ns.date.timeZone,year:"",labels:["month_paid_orders","month_taxes","month_expenses","month_income"]}},computed:{totalDebit:function(){return 0},totalCredit:function(){return 0}},methods:{setStartDate:function(t){this.startDate=t.format()},setEndDate:function(t){this.endDate=t.format()},printSaleReport:function(){this.$htmlToPaper("annual-report")},sumOf:function(t){return Object.values(this.report).length>0?Object.values(this.report).map((function(e){return parseFloat(e[t])||0})).reduce((function(t,e){return t+e})):0},recomputeForSpecificYear:function(){var t=this;Popup.show(L.Z,{title:__("Would you like to proceed ?"),message:__("The report will be computed for the current year, a job will be dispatched and you'll be informed once it's completed."),onAction:function(e){e&&a.ih.post("/api/nexopos/v4/reports/compute/yearly",{year:t.year}).subscribe((function(t){a.kX.success(t.message).subscribe()}),(function(t){a.kX.success(t.message||__("An unexpected error has occured.")).subscribe()}))}})},getReportForMonth:function(t){return console.log(this.report,t),this.report[t]},loadReport:function(){var t=this,e=this.year;a.ih.post("/api/nexopos/v4/reports/annual-report",{year:e}).subscribe((function(e){t.report=e}),(function(t){a.kX.error(t.message).subscribe()}))}}},Ft=Tt;const At=(0,p.Z)(Ft,undefined,undefined,!1,null,null,null).exports,Nt={name:"ns-best-products-report",mounted:function(){},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},data:function(){return{startDate:ot()(),endDate:ot()(),report:null,sort:""}},computed:{totalDebit:function(){return 0},totalCredit:function(){return 0}},methods:{setStartDate:function(t){this.startDate=t.format()},setEndDate:function(t){this.endDate=t.format()},printSaleReport:function(){this.$htmlToPaper("best-products-report")},loadReport:function(){var t=this,e=ot()(this.startDate),r=ot()(this.endDate);a.ih.post("/api/nexopos/v4/reports/products-report",{startDate:e.format("YYYY/MM/DD HH:mm"),endDate:r.format("YYYY/MM/DD HH:mm"),sort:this.sort}).subscribe((function(e){e.current.products=Object.values(e.current.products),t.report=e,console.log(t.report)}),(function(t){a.kX.error(t.message).subscribe()}))}}},Lt=Nt;const Vt=(0,p.Z)(Lt,undefined,undefined,!1,null,null,null).exports;const qt={name:"ns-payment-types-report",data:function(){return{startDate:ot()(),endDate:ot()(),report:[],field:{type:"datetimepicker",value:"2021-02-07",name:"date"}}},components:{nsDatepicker:lt.Z,nsDateTimePicker:ct.Z},computed:{},mounted:function(){},methods:{printSaleReport:function(){this.$htmlToPaper("sale-report")},setStartDate:function(t){console.log(t),this.startDate=t.format()},loadReport:function(){var t=this;if(null===this.startDate||null===this.endDate)return a.kX.error((0,o.__)("Unable to proceed. Select a correct time range.")).subscribe();var e=ot()(this.startDate);if(ot()(this.endDate).isBefore(e))return a.kX.error((0,o.__)("Unable to proceed. The current time range is not valid.")).subscribe();a.ih.post("/api/nexopos/v4/reports/payment-types",{startDate:this.startDate,endDate:this.endDate}).subscribe((function(e){t.report=e}),(function(t){a.kX.error(t.message).subscribe()}))},setEndDate:function(t){console.log(t),this.endDate=t.format()}}},Mt=qt;const Zt=(0,p.Z)(Mt,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;const Rt={name:"ns-dashboard-cards",data:function(){return{report:{}}},mounted:function(){this.loadReport(),console.log(nsLanguage.getEntries())},methods:{__:o.__,loadReport:function(){var t=this;a.ih.get("/api/nexopos/v4/dashboard/day").subscribe((function(e){t.report=e}))}}};const Ut=(0,p.Z)(Rt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"-m-4 flex flex-wrap"},[e("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-blue-400 to-blue-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Total Sales")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_paid_orders||0,"abbreviate"))+"\n                    ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Total Sales")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_paid_orders||0))+" "+t._s(t.__("Today")))])])])])]),t._v(" "),e("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-green-400 to-green-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Incomplete Orders")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_partially_paid_orders+t.report.total_unpaid_orders||0,"abbreviate"))+"\n                    ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Incomplete Orders")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_unpaid_orders+t.report.day_partially_paid_orders||0))+" "+t._s(t.__("Today")))])])])])]),t._v(" "),e("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-red-300 via-red-400 to-red-500 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Wasted Goods")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_wasted_goods||0,"abbreviate"))+"\n                    ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Wasted Goods")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_wasted_goods||0))+" "+t._s(t.__("Today")))])])])])]),t._v(" "),e("div",{staticClass:"p-4 w-full md:w-1/2 lg:w-1/4"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-indigo-400 to-indigo-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Expenses")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                        "+t._s(t._f("currency")(t.report.total_expenses||0,"abbreviate"))+"\n                    ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Expenses")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.day_expenses||0))+" "+t._s(t.__("Today")))])])])])])])}),[],!1,null,null,null).exports;const Xt={name:"ns-best-customers",mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.bestCustomers.subscribe((function(e){t.hasLoaded=!0,t.customers=e}))},methods:{__:o.__},data:function(){return{customers:[],subscription:null,hasLoaded:!1}},destroyed:function(){this.subscription.unsubscribe()}};const Yt=(0,p.Z)(Xt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[e("div",{staticClass:"head bg-white flex-auto"},[e("div",{staticClass:"head text-center border-b border-gray-200 text-gray-700 w-full py-2"},[e("h5",[t._v(t._s(t.__("Best Customers")))])]),t._v(" "),e("div",{staticClass:"body"},[t.hasLoaded?t._e():e("div",{staticClass:"h-56 w-full flex items-center justify-center"},[e("ns-spinner",{attrs:{size:"12",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.customers.length?e("div",{staticClass:"h-56 flex items-center justify-center flex-col"},[e("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),e("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.__("Well.. nothing to show for the meantime")))])]):t._e(),t._v(" "),t.customers.length>0?e("table",{staticClass:"table w-full"},[e("thead",t._l(t.customers,(function(r){return e("tr",{key:r.id,staticClass:"border-gray-300 border-b text-sm"},[e("th",{staticClass:"p-2"},[e("div",{staticClass:"-mx-1 flex justify-start items-center"},[t._m(0,!0),t._v(" "),e("div",{staticClass:"px-1 justify-center"},[e("h3",{staticClass:"font-semibold text-gray-600 items-center"},[t._v(t._s(r.name))])])])]),t._v(" "),e("th",{staticClass:"flex justify-end text-green-700 p-2"},[t._v(t._s(t._f("currency")(r.purchases_amount)))])])})),0)]):t._e()])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"px-1"},[t("div",{staticClass:"rounded-full bg-gray-200 h-6 w-6"},[t("img",{attrs:{src:"/images/user.png"}})])])}],!1,null,null,null).exports;const It={name:"ns-best-customers",data:function(){return{subscription:null,cashiers:[],hasLoaded:!1}},mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.bestCashiers.subscribe((function(e){t.hasLoaded=!0,t.cashiers=e}))},methods:{__:o.__},destroyed:function(){this.subscription.unsubscribe()}};const zt=(0,p.Z)(It,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[e("div",{staticClass:"head bg-white flex-auto"},[e("div",{staticClass:"head text-center border-b border-gray-200 text-gray-700 w-full py-2"},[e("h5",[t._v(t._s(t.__("Best Cashiers")))])]),t._v(" "),e("div",{staticClass:"body"},[t.cashiers.length>0?e("table",{staticClass:"table w-full"},[e("thead",[t._l(t.cashiers,(function(r){return e("tr",{key:r.id,staticClass:"border-gray-300 border-b text-sm"},[e("th",{staticClass:"p-2"},[e("div",{staticClass:"-mx-1 flex justify-start items-center"},[t._m(0,!0),t._v(" "),e("div",{staticClass:"px-1 justify-center"},[e("h3",{staticClass:"font-semibold text-gray-600 items-center"},[t._v(t._s(r.username))])])])]),t._v(" "),e("th",{staticClass:"flex justify-end text-green-700 p-2"},[t._v(t._s(t._f("currency")(r.total_sales,"abbreviate")))])])})),t._v(" "),0===t.cashiers.length?e("tr",[e("th",{attrs:{colspan:"2"}},[t._v(t._s(t.__("No result to display.")))])]):t._e()],2)]):t._e(),t._v(" "),t.hasLoaded?t._e():e("div",{staticClass:"h-56 flex items-center justify-center"},[e("ns-spinner",{attrs:{size:"8",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.cashiers.length?e("div",{staticClass:"h-56 flex items-center justify-center flex-col"},[e("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),e("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.__("Well.. nothing to show for the meantime.")))])]):t._e()])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"px-1"},[t("div",{staticClass:"rounded-full bg-gray-200 h-6 w-6"},[t("img",{attrs:{src:"/images/user.png"}})])])}],!1,null,null,null).exports;const Wt={name:"ns-orders-summary",data:function(){return{orders:[],subscription:null,hasLoaded:!1}},mounted:function(){var t=this;this.hasLoaded=!1,this.subscription=Dashboard.recentOrders.subscribe((function(e){t.hasLoaded=!0,t.orders=e}))},methods:{__:o.__},destroyed:function(){this.subscription.unsubscribe()}};const Gt=(0,p.Z)(Wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[e("div",{staticClass:"p-2 flex justify-between bg-white border-b"},[e("h3",{staticClass:"font-semibold text-gray-700"},[t._v(t._s(t.__("Recents Orders")))]),t._v(" "),e("div",{})]),t._v(" "),e("div",{staticClass:"head bg-gray-100 flex-auto flex-col flex h-56 overflow-y-auto"},[t.hasLoaded?t._e():e("div",{staticClass:"h-full flex items-center justify-center"},[e("ns-spinner",{attrs:{size:"8",border:"4"}})],1),t._v(" "),t.hasLoaded&&0===t.orders.length?e("div",{staticClass:"h-full flex items-center justify-center flex-col"},[e("i",{staticClass:"las la-grin-beam-sweat text-6xl text-gray-700"}),t._v(" "),e("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.__("Well.. nothing to show for the meantime.")))])]):t._e(),t._v(" "),t._l(t.orders,(function(r){return e("div",{key:r.id,staticClass:"border-b border-gray-200 p-2 flex justify-between",class:"paid"===r.payment_status?"bg-green-50":"bg-white"},[e("div",[e("h3",{staticClass:"text-lg font-semibold text-gray-600"},[t._v(t._s(t.__("Order"))+" : "+t._s(r.code))]),t._v(" "),e("div",{staticClass:"flex -mx-2"},[e("div",{staticClass:"px-1"},[e("h4",{staticClass:"text-semibold text-xs text-gray-500"},[e("i",{staticClass:"lar la-user-circle"}),t._v(" "),e("span",[t._v(t._s(r.user.username))])])]),t._v(" "),e("div",{staticClass:"divide-y-4"}),t._v(" "),e("div",{staticClass:"px-1"},[e("h4",{staticClass:"text-semibold text-xs text-gray-600"},[e("i",{staticClass:"las la-clock"}),t._v(" "),e("span",[t._v(t._s(r.created_at))])])])])]),t._v(" "),e("div",[e("h2",{staticClass:"text-xl font-bold",class:"paid"===r.payment_status?"text-green-600":"text-gray-700"},[t._v(t._s(t._f("currency")(r.total)))])])])}))],2)])}),[],!1,null,null,null).exports;const Ht={name:"ns-orders-chart",data:function(){return{totalWeeklySales:0,totalWeekTaxes:0,totalWeekExpenses:0,totalWeekIncome:0,chartOptions:{chart:{id:"vuechart-example",width:"100%",height:"100%"},stroke:{curve:"smooth",dashArray:[0,8]},xaxis:{categories:[]},colors:["#5f83f3","#AAA"]},series:[{name:(0,o.__)("Current Week"),data:[]},{name:(0,o.__)("Previous Week"),data:[]}],reportSubscription:null,report:null}},methods:{__:o.__},mounted:function(){var t=this;this.reportSubscription=Dashboard.weeksSummary.subscribe((function(e){void 0!==e.result&&(t.chartOptions.xaxis.categories=e.result.map((function(t){return t.label})),t.report=e,t.totalWeeklySales=0,t.totalWeekIncome=0,t.totalWeekExpenses=0,t.totalWeekTaxes=0,t.report.result.forEach((function(e,r){if(void 0!==e.current){var s=e.current.entries.map((function(t){return t.day_paid_orders})),n=0;s.length>0&&(n=s.reduce((function(t,e){return t+e}))),t.totalWeekExpenses+=e.current.entries.map((function(t){return parseFloat(t.day_expenses)})).reduce((function(t,e){return t+e})),t.totalWeekTaxes+=e.current.entries.map((function(t){return parseFloat(t.day_taxes)})).reduce((function(t,e){return t+e})),t.totalWeekIncome+=e.current.entries.map((function(t){return parseFloat(t.day_income)})).reduce((function(t,e){return t+e})),t.series[0].data.push(n)}else t.series[0].data.push(0);if(void 0!==e.previous){var i=e.previous.entries.map((function(t){return t.day_paid_orders})),a=0;i.length>0&&(a=i.reduce((function(t,e){return t+e}))),t.series[1].data.push(a)}else t.series[1].data.push(0)})),t.totalWeeklySales=t.series[0].data.reduce((function(t,e){return t+e})))}))}};const Bt=(0,p.Z)(Ht,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-auto flex-col shadow rounded-lg overflow-hidden"},[e("div",{staticClass:"head bg-white flex-auto flex h-56"},[e("div",{staticClass:"w-full h-full pt-2"},[t.report?e("vue-apex-charts",{attrs:{height:"100%",type:"area",options:t.chartOptions,series:t.series}}):t._e()],1)]),t._v(" "),e("div",{staticClass:"p-2 bg-white -mx-4 flex flex-wrap"},[e("div",{staticClass:"flex w-full md:w-1/2 lg:w-full xl:w-1/2 lg:border-b lg:border-t xl:border-none border-gray-200 lg:py-1 lg:my-1"},[e("div",{staticClass:"px-4 w-1/2 lg:w-1/2 flex flex-col items-center justify-center"},[e("span",{staticClass:"text-xs text-gray-600"},[t._v(t._s(t.__("Weekly Sales")))]),t._v(" "),e("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeeklySales,"abbreviate")))])]),t._v(" "),e("div",{staticClass:"px-4 w-1/2 lg:w-1/2 flex flex-col items-center justify-center"},[e("span",{staticClass:"text-xs text-gray-600"},[t._v(t._s(t.__("Week Taxes")))]),t._v(" "),e("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekTaxes,"abbreviate")))])])]),t._v(" "),e("div",{staticClass:"flex w-full md:w-1/2 lg:w-full xl:w-1/2"},[e("div",{staticClass:"px-4 w-full lg:w-1/2 flex flex-col items-center justify-center"},[e("span",{staticClass:"text-xs text-gray-600"},[t._v(t._s(t.__("Net Income")))]),t._v(" "),e("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekIncome,"abbreviate")))])]),t._v(" "),e("div",{staticClass:"px-4 w-full lg:w-1/2 flex flex-col items-center justify-center"},[e("span",{staticClass:"text-xs text-gray-600"},[t._v(t._s(t.__("Week Expenses")))]),t._v(" "),e("h2",{staticClass:"text-lg xl:text-xl text-gray-700 font-bold"},[t._v(t._s(t._f("currency")(t.totalWeekExpenses,"abbreviate")))])])])])])}),[],!1,null,null,null).exports;const Qt={name:"ns-cashier-dashboard",props:["showCommission"],data:function(){return{report:{}}},methods:{__,refreshReport:function(){Cashier.refreshReport()},getOrderStatus:function(t){switch(t){case"paid":return __("Paid");case"partially_paid":return __("Partially Paid");case"unpaid":return __("Unpaid");case"hold":return __("Hold");case"order_void":return __("Void");case"refunded":return __("Refunded");case"partially_refunded":return __("Partially Refunded");default:return $status}}},mounted:function(){var t=this;Cashier.mysales.subscribe((function(e){t.report=e}));var e=document.createRange().createContextualFragment('<div clss="px-2">\n            <div class="mr-2">\n                <div \n                    id="refresh-button" \n                    class="hover:bg-white hover:text-gray-700 hover:shadow-lg hover:border-opacity-0 rounded-full h-12 w-12 cursor-pointer font-bold text-2xl justify-center items-center flex text-gray-800 border border-gray-400">\n                    <i class="las la-sync-alt"></i>\n                </div>             \n            </div>\n        </div>');document.querySelector(".top-tools-side").prepend(e),document.querySelector("#refresh-button").addEventListener("click",(function(){return t.refreshReport()}))}};const Kt=(0,p.Z)(Qt,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex -mx-4 flex-wrap"},[e("div",{staticClass:"px-4 w-full mb-6",class:t.showCommission?"md:w-1/2 lg:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-purple-400 to-purple-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Total Sales")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                            "+t._s(t._f("currency")(t.report.total_sales_amount,"abbreviate"))+"\n                        ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Total Sales")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.total_sales_amount))+" "+t._s(t.__("Today")))])])])])]),t._v(" "),e("div",{staticClass:"px-4 w-full mb-6",class:t.showCommission?"md:w-1/2 lg:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-red-400 to-red-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Total Refunds")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                            "+t._s(t._f("currency")(t.report.total_refunds_amount,"abbreviate"))+"\n                        ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Total Refunds")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.today_refunds_amount))+" "+t._s(t.__("Today")))])])])])]),t._v(" "),e("div",{staticClass:"px-4 w-full mb-6",class:t.showCommission?"md:w-1/2 lg:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-blue-400 to-blue-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Clients Registered")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                            "+t._s(t.report.total_customers)+"\n                        ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Clients Registered")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t.report.today_customers)+" "+t._s(t.__("Today")))])])])])]),t._v(" "),t.showCommission?e("div",{staticClass:"px-4 w-full mb-6",class:t.showCommission?"md:w-1/2 lg:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-auto flex-col rounded-lg shadow-lg bg-gradient-to-br from-green-400 to-green-600 text-white px-3 py-5"},[e("div",{staticClass:"flex flex-row md:flex-col flex-auto"},[e("div",{staticClass:"w-1/2 md:w-full flex md:flex-col md:items-start items-center justify-center"},[e("h6",{staticClass:"font-bold hidden text-right md:inline-block"},[t._v(t._s(t.__("Commissions")))]),t._v(" "),e("h3",{staticClass:"text-2xl font-black"},[t._v("\n                            "+t._s(t._f("currency")(t.report.total_commissions))+"\n                        ")])]),t._v(" "),e("div",{staticClass:"w-1/2 md:w-full flex flex-col px-2 justify-end items-end"},[e("h6",{staticClass:"font-bold inline-block text-right md:hidden"},[t._v(t._s(t.__("Commissions")))]),t._v(" "),e("h4",{staticClass:"text-xs text-right"},[t._v("+"+t._s(t._f("currency")(t.report.today_commissions))+" "+t._s(t.__("Today")))])])])])]):t._e()]),t._v(" "),e("div",{staticClass:"py-4"},[t.report.today_orders&&t.report.today_orders.length>0?e("ul",{staticClass:"bg-white shadow-lg rounded overflow-hidden"},t._l(t.report.today_orders,(function(r){return e("li",{key:r.id,staticClass:"p-2 border-b-2 border-blue-400"},[e("h3",{staticClass:"font-semibold text-lg flex justify-between"},[e("span",[t._v(t._s(t.__("Total"))+" : "+t._s(t._f("currency")(r.total)))]),t._v(" "),e("span",[t._v(t._s(r.code))])]),t._v(" "),e("ul",{staticClass:"pt-2 flex -mx-1 text-sm text-gray-700"},[e("li",{staticClass:"px-1"},[t._v(t._s(t.__("Discount"))+" : "+t._s(t._f("currency")(r.discount)))]),t._v(" "),e("li",{staticClass:"px-1"},[t._v(t._s(t.__("Status"))+" : "+t._s(t.getOrderStatus(r.payment_status)))])])])})),0):t._e(),t._v(" "),t.report.today_orders&&0===t.report.today_orders.length?e("div",{staticClass:"flex items-center justify-center"},[e("i",{staticClass:"las la-frown"})]):t._e()])])}),[],!1,null,null,null).exports;var Jt=r(2285),te=r(2394),ee=r(149);const re={name:"ns-stock-adjustment",props:["actions"],data:function(){return{search:"",timeout:null,suggestions:[],products:[]}},mounted:function(){console.log(this.actions)},methods:{__:o.__,searchProduct:function(t){var e=this;t.length>0&&a.ih.post("/api/nexopos/v4/procurements/products/search-procurement-product",{argument:t}).subscribe((function(t){if("products"===t.from){if(!(t.products.length>0))return e.closeSearch(),a.kX.error((0,o.__)("Looks like no products matched the searched term.")).subscribe();1===t.products.length?e.addSuggestion(t.products[0]):e.suggestions=t.products}else if("procurements"===t.from){if(null===t.product)return e.closeSearch(),a.kX.error((0,o.__)("Looks like no products matched the searched term.")).subscribe();e.addProductToList(t.product)}}))},addProductToList:function(t){if(this.products.filter((function(e){return e.procurement_product_id===t.id})).length>0)return this.closeSearch(),a.kX.error((0,o.__)("The product already exists on the table.")).subscribe();var e=new Object;t.unit_quantity.unit=t.unit,e.quantities=[t.unit_quantity],e.name=t.name,e.adjust_unit=t.unit_quantity,e.adjust_quantity=1,e.adjust_action="",e.adjust_reason="",e.adjust_value=0,e.id=t.product_id,e.accurate_tracking=1,e.available_quantity=t.available_quantity,e.procurement_product_id=t.id,e.procurement_history=[{label:"".concat(t.procurement.name," (").concat(t.available_quantity,")"),value:t.id}],this.products.push(e),this.closeSearch()},addSuggestion:function(t){var e=this;(0,F.D)([a.ih.get("/api/nexopos/v4/products/".concat(t.id,"/units/quantities"))]).subscribe((function(r){if(!(r[0].length>0))return a.kX.error((0,o.__)("This product does't have any stock to adjust.")).subscribe();t.quantities=r[0],t.adjust_quantity=1,t.adjust_action="",t.adjust_reason="",t.adjust_unit="",t.adjust_value=0,t.procurement_product_id=0,e.products.push(t),e.closeSearch(),t.accurate_tracking}))},closeSearch:function(){this.search="",this.suggestions=[]},recalculateProduct:function(t){""!==t.adjust_unit&&(["deleted","defective","lost"].includes(t.adjust_action)?t.adjust_value=-t.adjust_quantity*t.adjust_unit.sale_price:t.adjust_value=t.adjust_quantity*t.adjust_unit.sale_price),this.$forceUpdate()},openQuantityPopup:function(t){var e=this;t.quantity;new Promise((function(e,r){Jt.G.show(te.Z,{resolve:e,reject:r,quantity:t.adjust_quantity})})).then((function(r){if(!["added"].includes(t.adjust_action)){if(void 0!==t.accurate_tracking&&r.quantity>t.available_quantity)return a.kX.error((0,o.__)("The specified quantity exceed the available quantity.")).subscribe();if(r.quantity>t.adjust_unit.quantity)return a.kX.error((0,o.__)("The specified quantity exceed the available quantity.")).subscribe()}t.adjust_quantity=r.quantity,e.recalculateProduct(t)}))},proceedStockAdjustment:function(){var t=this;if(0===this.products.length)return a.kX.error((0,o.__)("Unable to proceed as the table is empty.")).subscribe();Jt.G.show(L.Z,{title:(0,o.__)("Confirm Your Action"),message:(0,o.__)("The stock adjustment is about to be made. Would you like to confirm ?"),onAction:function(e){e&&a.ih.post("/api/nexopos/v4/products/adjustments",{products:t.products}).subscribe((function(e){a.kX.success(e.message).subscribe(),t.products=[]}),(function(t){a.kX.error(t.message).subscribe()}))}})},provideReason:function(t){new Promise((function(e,r){Jt.G.show(ee.Z,{title:(0,o.__)("More Details"),resolve:e,reject:r,message:(0,o.__)("Useful to describe better what are the reasons that leaded to this adjustment."),input:t.adjust_reason,onAction:function(e){!1!==e&&(t.adjust_reason=e)}})})).then((function(t){a.kX.success((0,o.__)("The reason has been updated.")).susbcribe()})).catch((function(t){}))},removeProduct:function(t){var e=this;Jt.G.show(L.Z,{title:(0,o.__)("Confirm Your Action"),message:(0,o.__)("Would you like to remove this product from the table ?"),onAction:function(r){if(r){var s=e.products.indexOf(t);e.products.splice(s,1)}}})}},watch:{search:function(){var t=this;this.search.length>0?(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.searchProduct(t.search)}),500)):this.closeSearch()}}};const se=(0,p.Z)(re,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"input-field flex border-2 border-blue-400 rounded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"p-2 bg-white flex-auto outline-none",attrs:{type:"text"},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeSearch()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),e("button",{staticClass:"px-3 py-2 bg-blue-400 text-white"},[t._v(t._s(t.__("Search")))])]),t._v(" "),t.suggestions.length>0?e("div",{staticClass:"h-0"},[e("div",{staticClass:"shadow h-96 relative z-10 bg-white text-gray-700 zoom-in-entrance anim-duration-300 overflow-y-auto"},[e("ul",t._l(t.suggestions,(function(r){return e("li",{key:r.id,staticClass:"cursor-pointer hover:bg-gray-100 border-b border-gray-200 p-2 flex justify-between",on:{click:function(e){return t.addSuggestion(r)}}},[e("span",[t._v(t._s(r.name))])])})),0)])]):t._e(),t._v(" "),e("div",{staticClass:"table shadow bg-white my-2 w-full"},[e("table",{staticClass:"table w-full"},[e("thead",{staticClass:"border-b border-gray-400"},[e("tr",[e("td",{staticClass:"p-2 text-gray-700"},[t._v(t._s(t.__("Product")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v(t._s(t.__("Unit")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v(t._s(t.__("Operation")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v(t._s(t.__("Procurement")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v(t._s(t.__("Quantity")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"120"}},[t._v(t._s(t.__("Value")))]),t._v(" "),e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{width:"150"}},[t._v(t._s(t.__("Actions")))])])]),t._v(" "),e("tbody",[0===t.products.length?e("tr",[e("td",{staticClass:"p-2 text-center text-gray-700",attrs:{colspan:"6"}},[t._v(t._s(t.__("Search and add some products")))])]):t._e(),t._v(" "),t._l(t.products,(function(r){return e("tr",{key:r.id},[e("td",{staticClass:"p-2 text-gray-600"},[t._v(t._s(r.name)+" ("+t._s((1===r.accurate_tracking?r.available_quantity:r.adjust_unit.quantity)||0)+")")]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600"},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.adjust_unit,expression:"product.adjust_unit"}],staticClass:"outline-none p-2 bg-white w-full border-2 border-blue-400",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r,"adjust_unit",e.target.multiple?s:s[0])},function(e){return t.recalculateProduct(r)}]}},t._l(r.quantities,(function(r){return e("option",{key:r.id,domProps:{value:r}},[t._v(t._s(r.unit.name))])})),0)]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600"},[e("select",{directives:[{name:"model",rawName:"v-model",value:r.adjust_action,expression:"product.adjust_action"}],staticClass:"outline-none p-2 bg-white w-full border-2 border-blue-400",attrs:{name:"",id:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r,"adjust_action",e.target.multiple?s:s[0])},function(e){return t.recalculateProduct(r)}]}},t._l(t.actions,(function(r){return e("option",{key:r.value,domProps:{value:r.value}},[t._v(t._s(r.label))])})),0)]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600"},[1===r.accurate_tracking?e("select",{directives:[{name:"model",rawName:"v-model",value:r.procurement_product_id,expression:"product.procurement_product_id"}],staticClass:"outline-none p-2 bg-white w-full border-2 border-blue-400",attrs:{name:"",id:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(r,"procurement_product_id",e.target.multiple?s:s[0])},function(e){return t.recalculateProduct(r)}]}},t._l(r.procurement_history,(function(r){return e("option",{key:r.value,domProps:{value:r.value}},[t._v(t._s(r.label))])})),0):t._e()]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600 flex items-center justify-center cursor-pointer",on:{click:function(e){return t.openQuantityPopup(r)}}},[e("span",{staticClass:"border-b border-dashed border-blue-400 py-2 px-4"},[t._v(t._s(r.adjust_quantity))])]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600"},[e("span",{staticClass:"border-b border-dashed border-blue-400 py-2 px-4"},[t._v(t._s(t._f("currency")(r.adjust_value)))])]),t._v(" "),e("td",{staticClass:"p-2 text-gray-600"},[e("div",{staticClass:"-mx-1 flex justify-end"},[e("div",{staticClass:"px-1"},[e("button",{staticClass:"bg-blue-400 text-white outline-none rounded-full shadow h-10 w-10",on:{click:function(e){return t.provideReason(r)}}},[e("i",{staticClass:"las la-comment-dots"})])]),t._v(" "),e("div",{staticClass:"px-1"},[e("button",{staticClass:"bg-red-400 text-white outline-none rounded-full shadow h-10 w-10",on:{click:function(e){return t.removeProduct(r)}}},[e("i",{staticClass:"las la-times"})])])])])])}))],2)]),t._v(" "),e("div",{staticClass:"border-t border-gray-200 p-2 flex justify-end"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.proceedStockAdjustment()}}},[t._v(t._s(t.__("Proceed")))])],1)])])}),[],!1,null,null,null).exports;const ne={props:["order","billing","shipping"],methods:{__:o.__,printTable:function(){this.$htmlToPaper("invoice-container")}}};const ie=(0,p.Z)(ne,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"shadow bg-white"},[e("div",{staticClass:"head p-2 bg-gray-100 flex justify-between border-b border-gray-300"},[e("div",{staticClass:"-mx-2 flex flex-wrap"},[e("div",{staticClass:"px-2"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.printTable()}}},[e("i",{staticClass:"las la-print"}),t._v(" "),e("span",[t._v(t._s(t.__("Print")))])])],1)])]),t._v(" "),e("div",{staticClass:"body flex flex-col px-2",attrs:{id:"invoice-container"}},[e("div",{staticClass:"flex -mx-2 flex-wrap",attrs:{id:"invoice-header"}},[e("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[e("div",{staticClass:"p-2"},[e("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v(t._s(t.__("Store Details")))]),t._v(" "),e("div",{staticClass:"details"},[e("ul",{staticClass:"my-1"},[e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Order Code")))]),t._v(" "),e("span",[t._v(t._s(t.order.code))])]),t._v(" "),e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Cashier")))]),t._v(" "),e("span",[t._v(t._s(t.order.user.username))])]),t._v(" "),e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Date")))]),t._v(" "),e("span",[t._v(t._s(t.order.created_at))])]),t._v(" "),e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Customer")))]),t._v(" "),e("span",[t._v(t._s(t.order.customer.name))])]),t._v(" "),e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Type")))]),t._v(" "),e("span",[t._v(t._s(t.order.type))])]),t._v(" "),e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Payment Status")))]),t._v(" "),e("span",[t._v(t._s(t.order.payment_status))])]),t._v(" "),"delivery"===t.order.type?e("li",{staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(t.__("Delivery Status")))]),t._v(" "),e("span",[t._v(t._s(t.order.delivery_status))])]):t._e()])])])]),t._v(" "),e("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[e("div",{staticClass:"p-2"},[e("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v(t._s(t.__("Billing Details")))]),t._v(" "),e("div",{staticClass:"details"},[e("ul",{staticClass:"my-1"},t._l(t.billing,(function(r){return e("li",{key:r.id,staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(r.label))]),t._v(" "),e("span",[t._v(t._s(t.order.billing_address[r.name]||"N/A"))])])})),0)])])]),t._v(" "),e("div",{staticClass:"w-full print:w-1/3 md:w-1/3 px-2"},[e("div",{staticClass:"p-2"},[e("h3",{staticClass:"font-semibold text-xl text-gray-700 border-b border-blue-400 py-2"},[t._v(t._s(t.__("Shipping Details")))]),t._v(" "),e("div",{staticClass:"details"},[e("ul",{staticClass:"my-1"},t._l(t.shipping,(function(r){return e("li",{key:r.id,staticClass:"flex justify-between text-gray-600 text-sm mb-1"},[e("span",{staticClass:"font-semibold"},[t._v(t._s(r.label))]),t._v(" "),e("span",[t._v(t._s(t.order.shipping_address[r.name]||"N/A"))])])})),0)])])])]),t._v(" "),e("div",{staticClass:"table w-full my-4"},[e("table",{staticClass:"table w-full"},[e("thead",{staticClass:"text-gray-600 bg-gray-100"},[e("tr",[e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"400"}},[t._v(t._s(t.__("Product")))]),t._v(" "),e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v(t._s(t.__("Unit Price")))]),t._v(" "),e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v(t._s(t.__("Quantity")))]),t._v(" "),e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v(t._s(t.__("Discount")))]),t._v(" "),e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v(t._s(t.__("Tax")))]),t._v(" "),e("th",{staticClass:"p-2 border border-gray-200",attrs:{width:"200"}},[t._v(t._s(t.__("Total Price")))])])]),t._v(" "),e("tbody",t._l(t.order.products,(function(r){return e("tr",{key:r.id},[e("td",{staticClass:"p-2 border border-gray-200"},[e("h3",{staticClass:"text-gray-700"},[t._v(t._s(r.name))]),t._v(" "),e("span",{staticClass:"text-sm text-gray-600"},[t._v(t._s(r.unit))])]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(r.unit_price)))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(r.quantity))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(r.discount)))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700"},[t._v(t._s(t._f("currency")(r.tax_value)))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(r.total_price)))])])})),0),t._v(" "),e("tfoot",{staticClass:"font-semibold bg-gray-100"},[e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"2"}},[["unpaid","partially_paid"].includes(t.order.payment_status)?e("div",{staticClass:"flex justify-between"},[e("span",[t._v("\n                                    "+t._s(t.__("Expiration Date"))+"\n                                ")]),t._v(" "),e("span",[t._v(t._s(t.order.final_payment_date))])]):t._e()]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"2"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Sub Total")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.subtotal)))])]),t._v(" "),t.order.discount>0?e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Discount")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(-t.order.discount)))])]):t._e(),t._v(" "),t.order.total_coupons>0?e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-left text-gray-700"},[t._v(t._s(t.__("Coupons")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(-t.order.total_coupons)))])]):t._e(),t._v(" "),t.order.shipping>0?e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Shipping")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.shipping)))])]):t._e(),t._v(" "),e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Total")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.total)))])]),t._v(" "),e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Paid")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.tendered)))])]),t._v(" "),["partially_paid","unpaid"].includes(t.order.payment_status)?e("tr",{staticClass:"bg-red-200 border-red-300"},[e("td",{staticClass:"p-2 border border-red-200 text-center text-red-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-red-200 text-red-700 text-left"},[t._v(t._s(t.__("Due")))]),t._v(" "),e("td",{staticClass:"p-2 border border-red-200 text-right text-red-700"},[t._v(t._s(t._f("currency")(t.order.change)))])]):e("tr",[e("td",{staticClass:"p-2 border border-gray-200 text-center text-gray-700",attrs:{colspan:"4"}}),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-gray-700 text-left"},[t._v(t._s(t.__("Change")))]),t._v(" "),e("td",{staticClass:"p-2 border border-gray-200 text-right text-gray-700"},[t._v(t._s(t._f("currency")(t.order.change)))])])])])])])])}),[],!1,null,null,null).exports;var ae=r(8682),oe=r(8674),le=r(7166),ce=r.n(le),ue=r(5675),de=window.nsState,fe=window.nsScreen,pe=window.nsExtraComponents;s.default.use(ue.Z,{name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["/css/app.css"]});var he=s.default.component("vue-apex-charts",ce()),me=Object.assign(Object.assign({NsModules:E,NsRewardsSystem:h,NsCreateCoupons:_,NsManageProducts:U,NsSettings:x,NsReset:C,NsPermissions:N,NsProcurement:tt,NsProcurementInvoice:rt,NsMedia:it.Z,NsDashboardCards:Ut,NsCashierDashboard:Kt,NsBestCustomers:Yt,NsBestCashiers:zt,NsOrdersSummary:Gt,NsOrdersChart:Bt,NsNotifications:nt,NsSaleReport:xt,NsSoldStockReport:kt,NsProfitReport:Pt,NsCashFlowReport:Dt,NsYearlyReport:At,NsPaymentTypesReport:Zt,NsBestProductsReport:Vt,NsLowStockReport:dt,NsStockAdjustment:se,NsPromptPopup:ee.Z,NsAlertPopup:ae.Z,NsConfirmPopup:L.Z,NsPOSLoadingPopup:oe.Z,NsOrderInvoice:ie,VueApexCharts:he},n),pe),ve=new s.default({el:"#dashboard-aside",data:{sidebar:"visible"},components:me,mounted:function(){var t=this;de.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))}});window.nsDashboardAside=ve,window.nsDashboardOverlay=new s.default({el:"#dashboard-overlay",data:{sidebar:null},components:me,mounted:function(){var t=this;de.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))},methods:{closeMenu:function(){de.setState({sidebar:"hidden"===this.sidebar?"visible":"hidden"})}}}),window.nsDashboardHeader=new s.default({el:"#dashboard-header",data:{menuToggled:!1,sidebar:"visible"},components:me,methods:{toggleMenu:function(){this.menuToggled=!this.menuToggled},toggleSideMenu:function(){["lg","xl"].includes(fe.breakpoint),de.setState({sidebar:"hidden"===this.sidebar?"visible":"hidden"})}},mounted:function(){var t=this;de.behaviorState.subscribe((function(e){var r=e.object;t.sidebar=r.sidebar}))}}),window.nsComponents=Object.assign(me,n),window.nsDashboardContent=new s.default({el:"#dashboard-content",components:me})},277:(t,e,r)=>{"use strict";r.d(e,{l:()=>B,kq:()=>et,ih:()=>Q,kX:()=>K});var s=r(6486),n=r(9669),i=r(6300),a=r(8345),o=r(4085),l=r(9248),c=r(230);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,f(s.key),s)}}function f(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:String(e)}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._subject=new l.x}var e,r,s;return e=t,r=[{key:"defineClient",value:function(t){this._client=t}},{key:"post",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request("post",t,e,r)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request("get",t,void 0,e)}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request("delete",t,void 0,e)}},{key:"put",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request("put",t,e,r)}},{key:"response",get:function(){return this._lastRequestData}},{key:"_request",value:function(t,e){var r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e=et.applyFilters("http-client-url",e.replace(/\/$/,"")),this._subject.next({identifier:"async.start",url:e,data:s}),new c.y((function(i){r._client[t](e,s,Object.assign(Object.assign({},r._client.defaults[t]),n)).then((function(t){r._lastRequestData=t,i.next(t.data),i.complete(),r._subject.next({identifier:"async.stop"})})).catch((function(t){var e;i.error((null===(e=t.response)||void 0===e?void 0:e.data)||t.response||t),r._subject.next({identifier:"async.stop"})}))}))}},{key:"subject",value:function(){return this._subject}},{key:"emit",value:function(t){var e=t.identifier,r=t.value;this._subject.next({identifier:e,value:r})}}],r&&d(e.prototype,r),s&&d(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),h=r(3);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,b(s.key),s)}}function b(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=m(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:String(e)}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._subject=new h.t}var e,r,s;return e=t,(r=[{key:"subject",value:function(){return this._subject}},{key:"emit",value:function(t){var e=t.identifier,r=t.value;this._subject.next({identifier:e,value:r})}}])&&v(e.prototype,r),s&&v(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_=r(6515);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function x(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,w(s.key),s)}}function w(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=y(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:String(e)}var C=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.behaviorState=new _.X({}),this.behaviorState.subscribe((function(t){r.state=t})),this.setState(e)}var e,r,s;return e=t,(r=[{key:"setState",value:function(t){this.behaviorState.next(Object.assign(Object.assign({},this.state),{object:t}))}}])&&x(e.prototype,r),s&&x(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),k=r(2401),j=r(8272),S=r(381),P=r(2285),O=r(538),$=r(40);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function E(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,T(s.key),s)}}function T(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=D(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:String(e)}var F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=ns.base_url}var e,r,s;return e=t,(r=[{key:"get",value:function(t){return this.url+t}}])&&E(e.prototype,r),s&&E(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),A=O.default.filter("abbreviate",(function(t){var e=t;if(t>=1e3){for(var r,s=Math.floor((""+t).length/3),n=2;n>=1;n--){if(((r=parseFloat((0!=s?t/Math.pow(1e3,s):t).toPrecision(n)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}r%1!=0&&(r=r.toFixed(1)),e=r+["","k","m","b","t"][s]}return e})),N=r(6261),L=r(7761);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function q(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,M(s.key),s)}}function M(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=V(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:String(e)}var Z=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instances=new Object}var e,r,s;return e=t,(r=[{key:"getInstance",value:function(t){return this.instances[t]}},{key:"defineInstance",value:function(t,e){this.instances[t]=e}}])&&q(e.prototype,r),s&&q(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),R=r(2319),U=r(9165),X=r(4914),Y=r(4503),I=r(4554);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function W(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,G(s.key),s)}}function G(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=z(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:String(e)}var H=r(6606);window._=s,window.ChartJS=i,window.Pusher=H,window.Vue=O.default,window.moment=S,window.Axios=n,window.__=U.__,window.__m=U.c,window.VueRouter=a.ZP,window.SnackBar=o.S,window.nsHooks=(0,R.Hu)(),window.popupResolver=X.Z,window.popupCloser=Y.Z,window.Axios.defaults.headers.common["x-requested-with"]="XMLHttpRequest",window.Axios.defaults.withCredentials=!0,ns.websocket.enabled&&(window.Echo=new I.ZP({broadcaster:"pusher",key:ns.websocket.key,wsHost:ns.websocket.host,wsPort:ns.websocket.port,wssPort:ns.websocket.port,namespace:"",forceTLS:ns.websocket.secured,disableStats:!0,encrypted:ns.websocket.secured,enabledTransports:ns.websocket.secured?["ws","wss"]:["ws"],disabledTransports:ns.websocket.secured?["sockjs","xhr_polling","xhr_streaming"]:[]}));var B=new g,Q=new p,K=new o.S,J=new F,tt=new Z,et=window.nsHooks,rt=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.breakpoint="",this.detectScreenSizes(),(0,k.R)(window,"resize").subscribe((function(t){return e.detectScreenSizes()}))}var e,r,s;return e=t,(r=[{key:"detectScreenSizes",value:function(){switch(!0){case window.outerWidth>0&&window.outerWidth<=480:this.breakpoint="xs";break;case window.outerWidth>480&&window.outerWidth<=640:this.breakpoint="sm";break;case window.outerWidth>640&&window.outerWidth<=1024:this.breakpoint="md";break;case window.outerWidth>1024&&window.outerWidth<=1280:this.breakpoint="lg";break;case window.outerWidth>1280:this.breakpoint="xl"}}}])&&W(e.prototype,r),s&&W(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()),st=new C({sidebar:["xs","sm","md"].includes(rt.breakpoint)?"hidden":"visible"});Q.defineClient(n),window.nsEvent=B,window.nsHttpClient=Q,window.nsSnackBar=K,window.nsCurrency=N.W,window.nsTruncate=L.b,window.nsRawCurrency=N.f,window.nsAbbreviate=A,window.nsState=st,window.nsUrl=J,window.nsScreen=rt,window.ChartJS=i,window.EventEmitter=g,window.Popup=P.G,window.RxJS=j,window.FormValidation=$.Z,window.nsCrudHandler=tt},2633:(t,e,r)=>{"use strict";r.r(e),r.d(e,{nsAvatar:()=>st,nsButton:()=>o,nsCheckbox:()=>p,nsCkeditor:()=>Z,nsCloseButton:()=>A,nsCrud:()=>K,nsCrudForm:()=>b,nsDate:()=>D,nsDateRangePicker:()=>j,nsDateTimePicker:()=>S.Z,nsDatepicker:()=>it.Z,nsField:()=>P,nsIconButton:()=>N,nsInput:()=>c,nsLink:()=>l,nsMediaInput:()=>F,nsMenu:()=>i,nsMultiselect:()=>O,nsNotice:()=>nt.Z,nsNumpad:()=>J.Z,nsPaginate:()=>at.Z,nsSelect:()=>d,nsSelectAudio:()=>f,nsSpinner:()=>m,nsSubmenu:()=>a,nsSwitch:()=>$,nsTableRow:()=>h,nsTabs:()=>R,nsTabsItem:()=>U,nsTextarea:()=>g});var s=r(538),n=r(277),i=s.default.component("ns-menu",{data:function(){return{defaultToggledState:!1,_save:0}},props:["href","label","icon","notification","toggled","identifier"],template:'\n    <div>\n        <a @click="toggleEmit()" :href="href || \'javascript:void(0)\'" :class="defaultToggledState ? \'border-blue-800 bg-gray-800\' : \'border-transparent bg-gray-900\'" class="flex justify-between py-2 border-l-8 text-gray-200 px-3 font-bold  hover:bg-gray-700">\n            <span class="flex items-center">\n            <i class="las text-lg mr-2" :class="icon?.length > 0 ? icon : \'la-star\'"></i>\n            {{ label }}\n            </span>\n            <span v-if="notification > 0" class="rounded-full bg-red-600 text-white font-bold w-6 h-6 text-xs justify-center items-center flex">{{ notification }}</span>\n        </a>\n        <ul :class="defaultToggledState ? \'\' : \'hidden\'" class="submenu-wrapper">\n            <slot></slot>                  \n        </ul>\n    </div>\n    ',mounted:function(){var t=this;this.defaultToggledState=void 0!==this.toggled?this.toggled:this.defaultToggledState,n.l.subject().subscribe((function(e){e.value!==t.identifier&&(t.defaultToggledState=!1)}))},methods:{toggleEmit:function(){var t=this;this.toggle().then((function(e){e&&n.l.emit({identifier:"side-menu.open",value:t.identifier})}))},toggle:function(){var t=this;return new Promise((function(e,r){0===t.href.length&&(t.defaultToggledState=!t.defaultToggledState,e(t.defaultToggledState))}))}}}),a=s.default.component("ns-submenu",{data:function(){return{}},props:["href","label","active"],mounted:function(){},template:'\n    <div>\n        <li>\n            <a :class="active ? \'font-bold text-white\' : \'text-gray-100\'" :href="href" class="py-2 border-l-8 border-blue-800 px-3 block bg-gray-800 hover:bg-gray-700">\n                <slot></slot>\n            </a>\n        </li>\n    </div>\n    '}),o=s.default.component("ns-button",{data:function(){return{clicked:!1,_save:0}},props:["type","disabled","link","href","routerLink","to"],template:'\n    <div class="flex" @click="$emit( \'click\' )">\n        <button :disabled="isDisabled" v-if="!link" :class="buttonclass" class="flex items-center rounded cursor-pointer py-2 px-3 font-semibold"><slot></slot></button>\n        <router-link  :to="to" v-if="routerLink" :class="buttonclass" class="flex items-center rounded cursor-pointer py-2 px-3 font-semibold"><slot></slot></router-link>\n        <a v-if="link" :href="href" :class="buttonclass" class="flex items-center rounded cursor-pointer py-2 px-3 font-semibold"><slot></slot></a>\n    </div>\n    ',mounted:function(){},computed:{isDisabled:function(){return this.disabled&&(0===this.disabled.length||"disabled"===this.disabled||this.disabled)},buttonclass:function(){var t;switch(this.type){case"info":t="".concat(this.isDisabled?"bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600":"shadow bg-blue-400 text-white");break;case"success":t="".concat(this.isDisabled?"bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600":"shadow bg-green-400 text-white");break;case"danger":t="".concat(this.isDisabled?"bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600":"shadow bg-red-400 text-white");break;case"warning":t="".concat(this.isDisabled?"bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600":"shadow bg-orange-400 text-white");break;default:t="".concat(this.isDisabled?"bg-gray-400 border border-gray-500 cursor-not-allowed text-gray-600":"shadow bg-white text-gray-800")}return t}}}),l=s.default.component("ns-link",{data:function(){return{clicked:!1,_save:0}},props:["type","to","href","target"],template:'\n    <div class="flex">\n        <router-link v-if="to" :to="to" :class="buttonclass" class="rounded cursor-pointer py-2 px-3 font-semibold"><slot></slot></router-link>\n        <a v-if="href" :target="target" :href="href" :class="buttonclass" class="rounded cursor-pointer py-2 px-3 font-semibold"><slot></slot></a>\n    </div>\n    ',computed:{buttonclass:function(){switch(this.type){case"info":return"shadow bg-blue-400 text-white";case"success":return"shadow bg-green-400 text-white";case"danger":return"shadow bg-red-400 text-white";case"warning":return"shadow bg-orange-400 text-white";default:return"shadow bg-white text-gray-800"}}}}),c=s.default.component("ns-input",{data:function(){return{}},mounted:function(){},computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"],template:'\n    <div class="flex flex-col mb-2 flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="mt-1 relative border-2 rounded-md focus:shadow-sm">\n            <div v-if="leading" class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\n                <span class="text-gray-500 sm:text-sm sm:leading-5">\n                {{ leading }}\n                </span>\n            </div>\n            <input \n                :disabled="field.disabled" \n                v-model="field.value" \n                @blur="$emit( \'blur\', this )" \n                @change="$emit( \'change\', this )" \n                :id="field.name" :type="type || field.type || \'text\'" \n                :class="inputClass" class="form-input block w-full sm:text-sm sm:leading-5 h-10" :placeholder="placeholder" />\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">This field is required.</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">This field must contain a valid email address.</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),u=r(9165),d=s.default.component("ns-select",{data:function(){return{}},props:["name","placeholder","field"],computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},methods:{__:u.__},template:'\n    <div class="flex flex-col flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="border-2 mt-1 relative rounded-md shadow-sm mb-2">\n            <select :disabled="field.disabled ? field.disabled : false" @change="$emit( \'change\', $event )" :name="field.name" v-model="field.value" :class="inputClass" class="text-gray-700 form-input block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10">\n                <option :value="option.value" v-for="option of field.options" class="py-2">{{ option.label }}</option>\n            </select>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),f=s.default.component("ns-select-audio",{data:function(){return{}},props:["name","placeholder","field"],computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},methods:{__:u.__,playSelectedSound:function(){this.field.value.length>0&&new Audio(this.field.value).play()}},template:'\n    <div class="flex flex-col flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="border-2 mt-1 flex relative overflow-hidden rounded-md shadow-sm mb-2">\n            <div @click="playSelectedSound()" class="border-r-2 border-gray-200 flex-auto flex items-center justify-center hover:bg-blue-400 hover:text-white">\n                <button class="w-10 flex item-center justify-center">\n                    <i class="las la-play text-2xl"></i>\n                </button>\n            </div>\n            <select :disabled="field.disabled ? field.disabled : false" @change="$emit( \'change\', $event )" :name="field.name" v-model="field.value" :class="inputClass" class="text-gray-700 form-input block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10">\n                <option :value="option.value" v-for="option of field.options" class="py-2">{{ option.label }}</option>\n            </select>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),p=s.default.component("ns-checkbox",{data:function(){return{}},props:["checked","field","label"],template:'\n    <div class="flex items-center justify-center cursor-pointer" @click="toggleIt()">\n        <div class="w-6 h-6 flex bg-white border-2 items-center justify-center cursor-pointer">\n            <i v-if="isChecked" class="las la-check"></i>   \n        </div>\n        <span v-if="label" class="mx-2">{{ label }}</span>\n        <span v-if="field" class="mx-2">{{ field.label }}</span>\n    </div>\n    ',computed:{isChecked:function(){return this.field?this.field.value:this.checked}},methods:{toggleIt:function(){void 0!==this.field&&(this.field.value=!this.field.value),this.$emit("change",!this.checked)}}}),h=s.default.component("ns-table-row",{props:["options","row","columns"],data:function(){return{optionsToggled:!1}},mounted:function(){},methods:{sanitizeHTML:function(t){var e=document.createElement("div");e.innerHTML=t;for(var r=e.getElementsByTagName("script"),s=r.length;s--;)r[s].parentNode.removeChild(r[s]);return e.innerHTML},getElementOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},toggleMenu:function(t){var e=this;if(this.row.$toggled=!this.row.$toggled,this.$emit("toggled",this.row),this.row.$toggled)setTimeout((function(){var t=e.$el.querySelectorAll(".relative > .absolute")[0],r=e.$el.querySelectorAll(".relative")[0],s=e.getElementOffset(r);t.style.top=s.top+"px",t.style.left=s.left+"px",r.classList.remove("relative"),r.classList.add("dropdown-holder")}),100);else{var r=this.$el.querySelectorAll(".dropdown-holder")[0];r.classList.remove("dropdown-holder"),r.classList.add("relative")}},handleChanged:function(t){this.row.$checked=t,this.$emit("updated",this.row)},triggerAsync:function(t){var e=this;t.confirm?confirm(t.confirm.message)&&n.ih[t.type.toLowerCase()](t.url).subscribe((function(t){n.kX.success(t.message).subscribe(),e.$emit("reload",e.row)}),(function(t){e.toggleMenu(),n.kX.error(t.message).subscribe()})):(n.l.emit({identifier:"ns-table-row-action",value:{action:t,row:this.row,component:this}}),this.toggleMenu())}},template:'\n    <tr :class="row.$cssClass ? row.$cssClass : \'border-gray-200 border text-sm\'">\n        <td class="text-gray-700 font-sans border-gray-200 p-2">\n            <ns-checkbox @change="handleChanged( $event )" :checked="row.$checked"> </ns-checkbox>\n        </td>\n        <td v-for="(column, identifier) of columns" class="text-gray-700 font-sans border-gray-200 p-2" v-html="sanitizeHTML( row[ identifier ] )"></td>\n        <td class="text-gray-700 font-sans border-gray-200 p-2 flex flex-col items-start justify-center">\n            <button @click="toggleMenu( $event )" class="outline-none rounded-full w-24 text-sm p-1 border border-gray-400 hover:bg-blue-400 hover:text-white hover:border-transparent"><i class="las la-ellipsis-h"></i> Options</button>\n            <div @click="toggleMenu( $event )" v-if="row.$toggled" class="absolute w-full h-full z-10 top-0 left-0"></div>\n            <div class="relative">\n                <div v-if="row.$toggled" class="zoom-in-entrance anim-duration-300 z-50 origin-bottom-right -ml-32 w-56 mt-2 absolute rounded-md shadow-lg">\n                    <div class="rounded-md bg-white shadow-xs">\n                        <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">\n                            <template v-for="action of row.$actions">\n                                <a :href="action.url" v-if="action.type === \'GOTO\'" class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900" role="menuitem" v-html="sanitizeHTML( action.label )"></a>\n                                <a href="javascript:void(0)" @click="triggerAsync( action )" v-if="[ \'GET\', \'DELETE\', \'POPUP\' ].includes( action.type )" class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900" role="menuitem" v-html="sanitizeHTML( action.label )"></a>\n                            </template>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </td>\n    </tr>\n    '}),m=s.default.component("ns-spinner",{data:function(){return{}},mounted:function(){},computed:{validatedSize:function(){return this.size||24},validatedBorder:function(){return this.border||8},validatedAnimation:function(){return this.animation||"fast"}},props:["color","size","border"],template:"\n    <div class=\"flex items-center justify-center\">\n    <div class=\"loader ease-linear rounded-full border-gray-200\" :class=\"validatedAnimation + ' border-' + validatedBorder + ' border-t-' + validatedBorder + ' w-' + validatedSize + ' h-' + validatedSize\"></div>\n    </div>\n    "}),v=r(40),b=s.default.component("ns-crud-form",{data:function(){return{form:{},globallyChecked:!1,formValidation:new v.Z,rows:[]}},mounted:function(){this.loadForm()},props:["src","create-url","field-class","return-url","submit-url","submit-method","disable-tabs"],computed:{activeTabFields:function(){for(var t in this.form.tabs)if(this.form.tabs[t].active)return this.form.tabs[t].fields;return[]}},methods:{__:u.__,toggle:function(t){for(var e in this.form.tabs)this.form.tabs[e].active=!1;this.form.tabs[t].active=!0},handleShowOptions:function(t){this.rows.forEach((function(e){e.$id!==t.$id&&(e.$toggled=!1)}))},submit:function(){var t=this;return this.formValidation.validateForm(this.form).length>0?n.kX.error(this.$slots["error-invalid-form"]?this.$slots["error-invalid-form"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe():(this.formValidation.disableForm(this.form),void 0===this.submitUrl?n.kX.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe():void n.ih[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,this.formValidation.extractForm(this.form)).subscribe((function(e){if("success"===e.status){if(t.returnUrl&&t.returnUrl.length>0)return document.location=t.returnUrl;t.$emit("save",e)}t.formValidation.enableForm(t.form)}),(function(e){n.kX.error(e.message,void 0,{duration:5e3}).subscribe(),t.formValidation.triggerError(t.form,e),t.formValidation.enableForm(t.form)})))},handleGlobalChange:function(t){this.globallyChecked=t,this.rows.forEach((function(e){return e.$checked=t}))},loadForm:function(){var t=this;n.ih.get("".concat(this.src)).subscribe({next:function(e){t.form=t.parseForm(e.form),n.kq.doAction("ns-crud-form-loaded",t),t.$emit("updated",t.form)},error:function(t){n.kX.error(t.message,"OKAY",{duration:0}).subscribe()}})},parseForm:function(t){t.main.value=void 0===t.main.value?"":t.main.value,t.main=this.formValidation.createFields([t.main])[0];var e=0;for(var r in t.tabs)0===e&&(t.tabs[r].active=!0),t.tabs[r].active=void 0!==t.tabs[r].active&&t.tabs[r].active,t.tabs[r].fields=this.formValidation.createFields(t.tabs[r].fields),e++;return t}},template:'\n    <div class="form flex-auto" id="crud-form">\n        <div v-if="Object.values( form ).length === 0" class="flex items-center justify-center h-full">\n            <ns-spinner />\n        </div>\n        <div v-if="Object.values( form ).length > 0">\n            <div class="flex flex-col">\n                <div class="flex justify-between items-center" v-if="form.main">\n                    <label for="title" class="font-bold my-2 text-gray-700">\n                        <span v-if="form.main.name">{{ form.main.label }}</span>\n                    </label>\n                    <div for="title" class="text-sm my-2 text-gray-700">\n                        <a v-if="returnUrl" :href="returnUrl" class="rounded-full border border-gray-400 hover:border-red-600 hover:bg-red-600 hover:text-white bg-white px-2 py-1">{{ __( \'Go Back\' ) }}</a>\n                    </div>\n                </div>\n                <template v-if="form.main.name">\n                    <div :class="form.main.disabled ? \'border-gray-500\' : form.main.errors.length > 0 ? \'border-red-600\' : \'border-blue-500\'" class="flex border-2 rounded overflow-hidden">\n                        <input v-model="form.main.value" \n                            @blur="formValidation.checkField( form.main )" \n                            @change="formValidation.checkField( form.main )" \n                            :disabled="form.main.disabled"\n                            type="text" \n                            :class="form.main.disabled ? \'bg-gray-400\' : \'\'"\n                            class="flex-auto text-gray-700 outline-none h-10 px-2">\n                        <button :disabled="form.main.disabled" :class="form.main.disabled ? \'bg-gray-500\' : form.main.errors.length > 0 ? \'bg-red-500\' : \'bg-blue-500\'" @click="submit()" class="outline-none px-4 h-10 text-white border-l border-gray-400"><slot name="save">Save</slot></button>\n                    </div>\n                    <p class="text-xs text-gray-600 py-1" v-if="form.main.description && form.main.errors.length === 0">{{ form.main.description }}</p>\n                    <p class="text-xs py-1 text-red-500" v-for="error of form.main.errors">\n                        <span v-if="error.identifier=== \'required\'"><slot name="error-required">{{ error.identifier }}</slot></span>\n                        <span v-if="error.identifier=== \'invalid\'"><slot name="error-invalid">{{ error.message }}</slot></span>\n                    </p>\n                </template>\n            </div>\n            <div id="tabs-container" class="my-5" v-if="disableTabs !== \'true\'">\n                <div class="header flex" style="margin-bottom: -1px;">\n                    <div v-for="( tab , identifier ) of form.tabs" \n                        @click="toggle( identifier )" \n                        :class="tab.active ? \'border-b-0 bg-white\' : \'border bg-gray-200\'" \n                        class="tab rounded-tl rounded-tr border border-gray-400  px-3 py-2 text-gray-700 cursor-pointer" style="margin-right: -1px">{{ tab.label }}</div>\n                </div>\n                <div class="border border-gray-400 p-4 bg-white">\n                    <div class="-mx-4 flex flex-wrap">\n                        <div :class="fieldClass || \'px-4 w-full md:w-1/2 lg:w-1/3\'" v-for="field of activeTabFields">\n                            <ns-field @blur="formValidation.checkField( field )" @change="formValidation.checkField( field )" :field="field"/>\n                        </div>\n                    </div>\n                    <div class="flex justify-end" v-if="! form.main.name">\n                        <button :disabled="form.main.disabled" :class="form.main.disabled ? \'bg-gray-500\' : form.main.errors.length > 0 ? \'bg-red-500\' : \'bg-blue-500\'" @click="submit()" class="outline-none px-4 h-10 text-white border-l border-gray-400"><slot name="save">Save</slot></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    '}),g=s.default.component("ns-textarea",{data:function(){return{}},mounted:function(){},computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"p-8":"p-2"}},props:["placeholder","leading","type","field"],template:'\n    <div class="flex flex-col mb-2 flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="mt-1 relative border-2 rounded-md focus:shadow-sm mb-2">\n            <div v-if="leading" class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\n                <span class="text-gray-500 sm:text-sm sm:leading-5">\n                {{ leading }}\n                </span>\n            </div>\n            <textarea \n                :rows="field.data ? ( field.data.rows || 10 ) : 10"\n                :disabled="field.disabled" \n                v-model="field.value" \n                @blur="$emit( \'blur\', this )" \n                @change="$emit( \'change\', this )" \n                :id="field.name" :type="type || field.type || \'text\'" \n                :class="inputClass" class="form-input block w-full sm:text-sm sm:leading-5" :placeholder="placeholder"></textarea>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">This field is required.</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">This field must contain a valid email address.</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),_=r(381),y=r.n(_),x=r(7144),w=r.n(x);r(8681);const C=s.default.extend({name:"ns-date-range-picker",data:function(){return{dateRange:{startDate:null,endDate:null}}},components:{DateRangePicker:w()},mounted:function(){void 0!==this.field.value&&(this.dateRange=this.field.value)},watch:{dateRange:function(){this.field.value=this.dateRange,this.$emit("change",this)}},methods:{__:u.__,getFormattedDate:function(t){return null!==t?y()(t).format("YYYY-MM-DD HH:mm"):(0,u.__)("N/D")},clearDate:function(){this.dateRange={startDate:null,endDate:null},this.field.value=void 0}},computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]});var k=r(1900);const j=(0,k.Z)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex flex-auto flex-col mb-2"},[e("label",{staticClass:"block leading-5 font-medium",class:t.hasError?"text-red-700":"text-gray-700",attrs:{for:t.field.name}},[t._t("default")],2),t._v(" "),e("div",{staticClass:"mt-1 relative flex border-2 rounded-md focus:shadow-sm",class:t.hasError?"border-red-400":"border-gray-200"},[t.leading?e("div",{staticClass:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{staticClass:"text-gray-500 sm:text-sm sm:leading-5"},[t._v("\n            "+t._s(t.leading)+"\n            ")])]):t._e(),t._v(" "),e("button",{staticClass:"px-3 outline-none bg-red-500 font-semibold text-white",on:{click:function(e){return t.clearDate()}}},[e("i",{staticClass:"las la-times"})]),t._v(" "),e("date-range-picker",{ref:"picker",staticClass:"w-full flex items-center",attrs:{"locale-data":{firstDay:1,format:"dd-mm-yyyy HH:mm:ss"},timePicker:!0,timePicker24Hour:!0,showWeekNumbers:!0,showDropdowns:!0,autoApply:!1,appendToBody:!0,disabled:t.field.disabled,linkedCalendars:!0},on:{blur:function(e){return t.$emit("blur",this)},update:function(e){return t.$emit("change",this)}},scopedSlots:t._u([{key:"input",fn:function(r){return[e("div",{staticClass:"flex justify-between items-center w-full py-2"},[e("span",{staticClass:"text-xs"},[t._v(t._s(t.__("Range Starts"))+" : "+t._s(t.getFormattedDate(r.startDate)))]),t._v(" "),e("span",{staticClass:"text-xs"},[t._v(t._s(t.__("Range Ends"))+" : "+t._s(t.getFormattedDate(r.endDate)))])])]}}]),model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),t.field.errors&&0!==t.field.errors.length?t._e():e("p",{staticClass:"text-xs text-gray-500"},[t._t("description")],2),t._v(" "),t._l(t.field.errors,(function(r,s){return e("p",{key:s,staticClass:"text-xs text-red-400"},["required"===r.identifier?t._t(r.identifier,(function(){return[t._v(t._s(t.__("This field is required.")))]})):t._e(),t._v(" "),"email"===r.identifier?t._t(r.identifier,(function(){return[t._v(t._s(t.__("This field must contain a valid email address.")))]})):t._e(),t._v(" "),"invalid"===r.identifier?t._t(r.identifier,(function(){return[t._v(t._s(r.message))]})):t._e()],2)}))],2)}),[],!1,null,null,null).exports;var S=r(7217),P=s.default.component("ns-field",{data:function(){return{}},mounted:function(){},components:{nsDateRangePicker:j,nsDateTimePicker:S.Z},computed:{isInputField:function(){return["text","password","email","number","tel"].includes(this.field.type)},isDateField:function(){return["date"].includes(this.field.type)},isSelectField:function(){return["select"].includes(this.field.type)},isTextarea:function(){return["textarea"].includes(this.field.type)},isCheckbox:function(){return["checkbox"].includes(this.field.type)},isMultiselect:function(){return["multiselect"].includes(this.field.type)},isSelectAudio:function(){return["select-audio"].includes(this.field.type)},isSwitch:function(){return["switch"].includes(this.field.type)},isMedia:function(){return["media"].includes(this.field.type)},isCkEditor:function(){return["ckeditor"].includes(this.field.type)},isDateTimePicker:function(){return["datetimepicker"].includes(this.field.type)},isDateRangePicker:function(){return["daterangepicker"].includes(this.field.type)},isCustom:function(){return["custom"].includes(this.field.type)}},props:["field"],methods:{addOption:function(t){"select"===this.field.type&&this.field.options.forEach((function(t){return t.selected=!1})),t.selected=!0;var e=this.field.options.indexOf(t);this.field.options.splice(e,1),this.field.options.unshift(t),this.refreshMultiselect(),this.$emit("change",{action:"addOption",option:t})},refreshMultiselect:function(){this.field.value=this.field.options.filter((function(t){return t.selected})).map((function(t){return t.value}))},removeOption:function(t){t.selected=!1,this.refreshMultiselect(),this.$emit("change",{action:"removeOption",option:t})}},template:'\n    <div class="flex flex-auto">\n        <ns-input @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isInputField">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-input>\n        <ns-date-time-picker @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isDateTimePicker">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-date-time-picker>\n        <ns-date @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isDateField">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-date>\n        <ns-media-input @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isMedia">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-media-input>\n        <ns-select @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isSelectField">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-select>\n        <ns-date-range-picker @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isDateRangePicker">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-date-range-picker>\n        <ns-select-audio @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isSelectAudio">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-select-audio>\n        <ns-textarea @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isTextarea">\n            <template>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-textarea v-slot>\n        <ns-checkbox @blur="$emit( \'blur\', field )" @change="$emit( \'change\', field )"  :field="field" v-if="isCheckbox">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-checkbox>\n        <ns-multiselect \n            @addOption="addOption( $event )" \n            @removeOption="removeOption( $event )" \n            :field="field" \n            v-if="isMultiselect">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-multiselect>\n        <ns-ckeditor \n            :field="field" \n            v-if="isCkEditor">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-ckeditor>\n        <ns-switch \n            :field="field" \n            @change="$emit( \'change\', field )"\n            v-if="isSwitch">\n            <template v-slot>{{ field.label }}</template>\n            <template v-slot:description><span v-html="field.description || \'\'"></span></template>\n        </ns-switch>\n        <template v-if="isCustom">\n            <keep-alive>\n                <component \n                    :field="field"\n                    @blur="$emit( \'blur\', field )" \n                    @change="$emit( \'change\', field )" \n                    v-bind:is="field.component"></component>\n            </keep-alive>\n        </template>\n    </div>\n    '}),O=s.default.component("ns-multiselect",{data:function(){return{showPanel:!1,search:""}},props:["field"],computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},_options:function(){var t=this;return this.field.options.map((function(e){return e.selected=void 0!==e.selected&&e.selected,t.field.value&&t.field.value.includes(e.value)&&(e.selected=!0),e}))}},methods:{__:u.__,addOption:function(t){this.field.disabled||(this.$emit("addOption",t),this.$forceUpdate(),setTimeout((function(){}),100))},removeOption:function(t,e){var r=this;if(!this.field.disabled)return e.preventDefault(),e.stopPropagation(),this.$emit("removeOption",t),this.$forceUpdate(),setTimeout((function(){r.search=""}),100),!1}},mounted:function(){var t=this;this.field.value&&this.field.value.reverse().forEach((function(e){var r=t.field.options.filter((function(t){return t.value===e}));r.length>=0&&t.addOption(r[0])}))},template:'\n    <div class="flex flex-col">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block mb-1 leading-5 font-medium"><slot></slot></label>\n        <div class="bg-white flex flex-col">\n            <div @click="showPanel = !showPanel" :class="showPanel ? \'\' : \'\'" class="select-preview flex justify-between rounded border-2 border-gray-200 p-2 items-center">\n                <div class="flex -mx-1 -my-1 flex-wrap">\n                    <div class="px-1 my-1" v-for="(option,index) of _options.filter( o => o.selected )">\n                        <div class="rounded bg-blue-400 text-white flex justify-between p-1 items-center">\n                            <span class="pr-8">{{ option.label }}</span>\n                            <button @click="removeOption( option, $event )" class="rounded outline-none hover:bg-blue-500 h-6 w-6 flex items-center justify-center">\n                                <i class="las la-times"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <i class="las la-angle-down" v-if="showPanel"></i>\n                    <i class="las la-angle-up" v-if="!showPanel"></i>\n                </div>\n            </div>\n            <div class="h-0 z-10" v-if="showPanel" :class="showPanel ? \'shadow\' : \'\'">\n                <div class="bg-white shadow">\n                    <div class="search border-b border-gray-200">\n                        <input v-model="search" class="p-2 w-full text-gray-600 outline-none" placeholder="Search">\n                    </div>\n                    <div class="h-40 overflow-y-auto">\n                        <div @click="addOption( option )" v-for="(option, index) of _options" :class="option.selected ? \'bg-blue-300 text-white\' : \'text-gray-600\'" class="option p-2 flex justify-between cursor-pointer hover:bg-blue-200 hover:text-white">\n                            <span>{{ option.label }}</span>\n                            <span>\n                                <i v-if="option.checked" class="las la-check"></i>\n                            </span>\n                        </div>\n                    </div>\n                    <div v-if="_options.length === 0" class="p-2 text-center text-gray-400">{{ __( \'Nothing to display\' ) }}</div>\n                </div>\n            </div>\n        </div>\n        <div class="my-2">\n            <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n            <p v-for="error of field.errors" class="text-xs text-red-400">\n                <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n                <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n                <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n            </p>\n        </div>\n    </div>\n    '}),$=s.default.component("ns-switch",{data:function(){return{}},mounted:function(){},computed:{_options:function(){var t=this;return this.field.options.map((function(e){return e.selected=e.value===t.field.value,e}))},hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":""},sizeClass:function(){return" w-1/".concat(this._options.length<=4?this._options.length:4)},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},methods:{__:u.__,setSelected:function(t){this.field.value=t.value,this._options.forEach((function(t){return t.selected=!1})),t.selected=!0,this.$forceUpdate(),this.$emit("change",t.value)}},props:["placeholder","leading","type","field"],template:'\n    <div class="flex flex-col mb-2">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div class="rounded-lg flex overflow-hidden w-40 shadow my-2" :class="hasError ? \'border border-red-400\' : \'\'">\n            <button \n                :disabled="option.disabled" \n                v-for="option of _options" \n                @click="setSelected( option )" \n                :class="option.selected ? \'bg-blue-400 text-white \' + sizeClass : \'bg-gray-100 text-gray-800\' + \' \' + inputClass + \' \' + sizeClass" \n                class="px-3 py-2 flex-no-wrap outline-none">{{ option.label }}</button>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n        </p>\n    </div>\n    '}),D=s.default.component("ns-date",{data:function(){return{}},mounted:function(){},computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"],template:'\n    <div class="flex flex-auto flex-col mb-2">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="mt-1 relative border-2 rounded-md focus:shadow-sm">\n            <div v-if="leading" class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\n                <span class="text-gray-500 sm:text-sm sm:leading-5">\n                {{ leading }}\n                </span>\n            </div>\n            <input \n                :disabled="field.disabled" \n                v-model="field.value" \n                @blur="$emit( \'blur\', this )" \n                @change="$emit( \'change\', this )" \n                :id="field.name" type="date"\n                :class="inputClass" class="form-input block w-full sm:text-sm sm:leading-5 h-10" :placeholder="placeholder" />\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),E=r(2285),T=r(9045),F=s.default.component("ns-media-input",{template:'\n    <div class="flex flex-col mb-2 flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="mt-1 relative border-2 rounded-md focus:shadow-sm">\n            <div v-if="leading" class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\n                <span class="text-gray-500 sm:text-sm sm:leading-5">\n                {{ leading }}\n                </span>\n            </div>\n            <div class="rounded overflow-hidden flex">\n                <div \n                    v-if="field.data && field.data.type === \'model\'"\n                    class="form-input flex w-full sm:text-sm items-center sm:leading-5 h-10">\n                    <template v-if="field.value && field.value.name">\n                        <img class="w-8 h-8 m-1" :src="field.value.sizes.thumb" :alt="field.value.name">\n                        <span class="text-xs text-gray-600">{{ field.value.name }}</span>\n                    </template>\n                </div>\n                <input \n                    v-if="! field.data || field.data.type === \'undefined\' || field.data.type === \'url\'"\n                    v-model="field.value" \n                    @blur="$emit( \'blur\', this )" \n                    @change="$emit( \'change\', this )" \n                    :id="field.name" :type="type || field.type || \'text\'" \n                    :class="inputClass" class="form-input block w-full sm:text-sm sm:leading-5 h-10" :placeholder="placeholder" />\n                <button \n                    @click="toggleMedia( field )"\n                    class="w-10 h-10 flex items-center justify-center border-l-2 border-gray-200 hover:bg-blue-400 hover:text-white outline-none">\n                    <i class="las la-photo-video"></i>\n                </button>\n            </div>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    ',computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"pl-8":"px-4"}},data:function(){return{}},props:["placeholder","leading","type","field"],mounted:function(){},methods:{toggleMedia:function(){var t=this;new Promise((function(e,r){E.G.show(T.Z,Object.assign({resolve:e,reject:r},t.field.data||{}))})).then((function(e){"use-selected"===e.event&&(t.field.data&&"url"!==t.field.data.type?t.field.data&&"model"!==t.field.data.type||(t.field.value=e.value[0]):t.field.value=e.value[0].sizes.original,t.$forceUpdate())}))}}}),A=s.default.component("ns-close-button",{template:'\n    <button @click="clicked( $event )" class="outline-none hover:bg-red-400 hover:text-white hover:border-red-600 rounded-full h-8 w-8 border items-center justify-center">\n        <i class="las la-times"></i>\n    </button>\n    ',methods:{clicked:function(t){this.$emit("click",t)}}}),N=s.default.component("ns-icon-button",{template:'\n    <button @click="clicked( $event )" :class="buttonClass ? buttonClass : \'hover:bg-blue-400 hover:text-white hover:border-blue-600\'" class="rounded-full h-8 w-8 border items-center justify-center">\n        <i :class="className" class="las"></i>\n    </button>\n    ',props:["className","buttonClass"],methods:{clicked:function(t){this.$emit("click",t)}}}),L=r(1272),V=r.n(L),q=r(5234),M=r.n(q),Z=s.default.component("ns-ckeditor",{data:function(){return{editor:M()}},components:{ckeditor:V().component},mounted:function(){},methods:{__:u.__},computed:{hasError:function(){return void 0!==this.field.errors&&this.field.errors.length>0},disabledClass:function(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass:function(){return this.disabledClass+" "+this.leadClass},leadClass:function(){return this.leading?"p-8":"p-2"}},props:["placeholder","leading","type","field"],template:'\n    <div class="flex flex-col mb-2 flex-auto">\n        <label :for="field.name" :class="hasError ? \'text-red-700\' : \'text-gray-700\'" class="block leading-5 font-medium"><slot></slot></label>\n        <div :class="hasError ? \'border-red-400\' : \'border-gray-200\'" class="mt-1 relative rounded-md focus:shadow-sm mb-2">\n            <div v-if="leading" class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">\n                <span class="text-gray-500 sm:text-sm sm:leading-5">\n                {{ leading }}\n                </span>\n            </div>\n            <ckeditor class="w-full" :editor="editor" v-model="field.value"></ckeditor>\n        </div>\n        <p v-if="! field.errors || field.errors.length === 0" class="text-xs text-gray-500"><slot name="description"></slot></p>\n        <p v-for="error of field.errors" class="text-xs text-red-400">\n            <slot v-if="error.identifier === \'required\'" :name="error.identifier">{{ __( \'This field is required.\' ) }}</slot>\n            <slot v-if="error.identifier === \'email\'" :name="error.identifier">{{ __( \'This field must contain a valid email address.\' ) }}</slot>\n            <slot v-if="error.identifier === \'invalid\'" :name="error.identifier">{{ error.message }}</slot>\n        </p>\n    </div>\n    '}),R=s.default.component("ns-tabs",{data:function(){return{childrens:[]}},props:["active"],computed:{activeComponent:function(){var t=this.$children.filter((function(t){return t.active}));return t.length>0&&t[0]}},methods:{toggle:function(t){this.$emit("active",t.identifier),this.$emit("changeTab",t.identifier)}},mounted:function(){this.childrens=this.$children},template:'\n    <div class="tabs flex flex-col flex-auto">\n        <div class="header flex" style="margin-bottom: -1px;">\n            <div v-for="( tab , identifier ) of childrens" @click="toggle( tab )" :class="active === tab.identifier ? \'border-b-0 bg-white z-10\' : \'border bg-gray-200\'" class="tab rounded-tl rounded-tr border border-gray-400  px-3 py-2 text-gray-700 cursor-pointer" style="margin-right: -1px">{{ tab.label }}</div>\n        </div>\n        <slot></slot>\n    </div>\n    '}),U=s.default.component("ns-tabs-item",{data:function(){return{}},mounted:function(){},props:["label","identifier","padding"],template:'\n    <div :class="( padding || \'p-4\' )" class="border flex-auto border-gray-400 bg-white" v-if="$parent.active === identifier">\n        <slot></slot>\n    </div>\n    '}),X=r(7995),Y=r(4503),I=r(4914);const z=s.default.extend({data:function(){return{fields:[],validation:new v.Z}},methods:{__:u.__,popupCloser:Y.Z,popupResolver:I.Z,closePopup:function(){this.popupResolver(!1)},useFilters:function(){this.popupResolver(this.validation.extractFields(this.fields))},clearFilters:function(){this.fields.forEach((function(t){return t.value=""})),this.popupResolver(null)}},mounted:function(){this.fields=this.validation.createFields(this.$popupParams.queryFilters),this.popupCloser()}});const W=(0,k.Z)(z,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"bg-white shadow-lg w-95vw h-95vh md:w-2/5-screen overflow-hidden md:h-5/6-screen flex flex-col"},[e("div",{staticClass:"p-2 border-b flex justify-between items-center"},[e("h3",[t._v(t._s(t.__("Search Filters")))]),t._v(" "),e("div",[e("ns-close-button",{on:{click:function(e){return t.closePopup()}}})],1)]),t._v(" "),e("div",{staticClass:"p-2 border-b flex-auto overflow-y-auto"},t._l(t.fields,(function(t,r){return e("ns-field",{key:r,attrs:{field:t}})})),1),t._v(" "),e("div",{staticClass:"p-2 flex justify-between"},[e("div",[e("ns-button",{attrs:{type:"danger"},on:{click:function(e){return t.clearFilters()}}},[t._v(t._s(t.__("Clear Filters")))])],1),t._v(" "),e("div",[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.useFilters()}}},[t._v(t._s(t.__("Use Filters")))])],1)])])}),[],!1,null,null,null).exports;function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function H(){H=function(){return e};var t,e={},r=Object.prototype,s=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,s){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),o=new D(s||[]);return n(a,"_invoke",{value:S(t,r,o)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function b(){}function g(){}function _(){}var y={};c(y,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(E([])));w&&w!==r&&s.call(w,a)&&(y=w);var C=_.prototype=b.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(n,i,a,o){var l=d(t[n],t,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==G(u)&&s.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,o)}),(function(t){r("throw",t,a,o)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,o)}))}o(l.arg)}var i;n(this,"_invoke",{value:function(t,s){function n(){return new e((function(e,n){r(t,s,e,n)}))}return i=i?i.then(n,n):n()}})}function S(e,r,s){var n=f;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:t,done:!0}}for(s.method=i,s.arg=a;;){var o=s.delegate;if(o){var l=P(o,s);if(l){if(l===v)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===f)throw n=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=h;var c=d(e,r,s);if("normal"===c.type){if(n=s.done?m:p,c.arg===v)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(n=m,s.method="throw",s.arg=c.arg)}}}function P(e,r){var s=r.method,n=e.iterator[s];if(n===t)return r.delegate=null,"throw"===s&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==s&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+s+"' method")),v;var i=d(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(s.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(G(e)+" is not iterable")}return g.prototype=_,n(C,"constructor",{value:_,configurable:!0}),n(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},k(j.prototype),c(j.prototype,o,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,s,n,i){void 0===i&&(i=Promise);var a=new j(u(t,r,s,n),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var s in e)r.push(s);return r.reverse(),function t(){for(;r.length;){var s=r.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=E,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(s,n){return o.type="throw",o.arg=e,r.next=s,n&&(r.method="next",r.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=s.call(a,"catchLoc"),c=s.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if("throw"===s.type){var n=s.arg;$(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,s){return this.delegate={iterator:E(e),resultName:r,nextLoc:s},"next"===this.method&&(this.arg=t),v}},e}var B=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const Q={data:function(){return{isRefreshing:!1,sortColumn:"",searchInput:"",queryFiltersString:"",searchQuery:"",page:1,bulkAction:"",bulkActions:[],queryFilters:[],withFilters:!1,columns:[],selectedEntries:[],globallyChecked:!1,result:{current_page:null,data:[],first_page_url:null,from:null,last_page:null,last_page_url:null,next_page_url:null,path:null,per_page:null,prev_page_url:null,to:null,total:null}}},mounted:function(){void 0!==this.identifier&&nsCrudHandler.defineInstance(this.identifier,this),this.loadConfig()},props:["src","create-url","mode","identifier","queryParams"],computed:{getParsedSrc:function(){return"".concat(this.src,"?").concat(this.sortColumn).concat(this.searchQuery).concat(this.queryFiltersString).concat(this.queryPage).concat(this.getQueryParams()?"&"+this.getQueryParams():"")},showQueryFilters:function(){return this.queryFilters.length>0},getSelectedAction:function(){var t=this,e=this.bulkActions.filter((function(e){return e.identifier===t.bulkAction}));return e.length>0&&e[0]},pagination:function(){return this.result?this.pageNumbers(this.result.last_page,this.result.current_page):[]},queryPage:function(){return this.result?"&page=".concat(this.page):""},resultInfo:function(){return(0,u.__)("displaying {perPage} on {items} items").replace("{perPage}",this.result.total).replace("{items}",this.result.total)}},methods:{__:u.__,getQueryParams:function(){var t=this;return this.queryParams?Object.keys(this.queryParams).map((function(e){return"".concat(e,"=").concat(t.queryParams[e])})).join("&"):""},pageNumbers:function(t,e){var r=[];e-3>1&&r.push(1,"...");for(var s=1;s<=t;s++)e+3>s&&e-3<s&&r.push(s);return e+3<t&&r.push("...",t),r.filter((function(t){return t>0||"string"==typeof t}))},downloadContent:function(){nsHttpClient.post("".concat(this.src,"/export?").concat(this.getParsedSrc),{entries:this.selectedEntries.map((function(t){return t.$id}))}).subscribe((function(t){setTimeout((function(){return document.location=t.url}),300),n.kX.success((0,u.__)("The document has been generated.")).subscribe()}),(function(t){n.kX.error(t.message||(0,u.__)("Unexpected error occured.")).subscribe()}))},clearSelectedEntries:function(){var t=this;E.G.show(X.Z,{title:(0,u.__)("Clear Selected Entries ?"),message:(0,u.__)("Would you like to clear all selected entries ?"),onAction:function(e){e&&(t.selectedEntries=[])}})},refreshRow:function(t){if(!0===t.$checked){0===this.selectedEntries.filter((function(e){return e.$id===t.$id})).length&&this.selectedEntries.push(t)}else{var e=this.selectedEntries.filter((function(e){return e.$id===t.$id}));if(e.length>0){var r=this.selectedEntries.indexOf(e[0]);this.selectedEntries.splice(r,1)}}},handleShowOptions:function(t){this.result.data.forEach((function(e){e.$id!==t.$id&&(e.$toggled=!1)}))},handleGlobalChange:function(t){var e=this;this.globallyChecked=t,this.result.data.forEach((function(r){r.$checked=t,e.refreshRow(r)}))},loadConfig:function(){var t=this;nsHttpClient.get("".concat(this.src,"/config?").concat(this.getQueryParams())).subscribe((function(e){t.columns=e.columns,t.bulkActions=e.bulkActions,t.queryFilters=e.queryFilters,t.refresh()}),(function(t){n.kX.error(t.message,"OK",{duration:!1}).subscribe()}))},cancelSearch:function(){this.searchInput="",this.search()},search:function(){this.searchInput?this.searchQuery="&search=".concat(this.searchInput):this.searchQuery="",this.refresh()},sort:function(t){for(var e in this.columns)e!==t&&(this.columns[e].$sorted=!1,this.columns[e].$direction="");switch(this.columns[t].$sorted=!0,this.columns[t].$direction){case"asc":this.columns[t].$direction="desc";break;case"desc":this.columns[t].$direction="";break;case"":this.columns[t].$direction="asc"}["asc","desc"].includes(this.columns[t].$direction)?this.sortColumn="active=".concat(t,"&direction=").concat(this.columns[t].$direction):this.sortColumn="",this.$emit("sort",this.columns[t]),this.refresh()},bulkDo:function(){var t=this;return this.bulkAction?this.selectedEntries.length>0?confirm(this.getSelectedAction.confirm||this.$slots["error-bulk-confirmation"]||(0,u.__)("Would you like to perform the selected bulk action on the selected entries ?"))?nsHttpClient.post("".concat(this.src,"/bulk-actions"),{action:this.bulkAction,entries:this.selectedEntries.map((function(t){return t.$id}))}).subscribe({next:function(e){n.kX.info(e.message).subscribe(),t.selectedEntries=[],t.refresh()},error:function(t){n.kX.error(t.message).subscribe()}}):void 0:n.kX.error(this.$slots["error-no-selection"]?this.$slots["error-no-selection"][0].text:(0,u.__)("No selection has been made.")).subscribe():n.kX.error(this.$slots["error-no-action"]?this.$slots["error-no-action"][0].text:(0,u.__)("No action has been selected.")).subscribe()},openQueryFilter:function(){return B(this,void 0,void 0,H().mark((function t(){var e,r=this;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(t,e){E.G.show(W,{resolve:t,reject:e,queryFilters:r.queryFilters})}));case 3:e=t.sent,this.withFilters=!1,this.queryFiltersString="",null!==e&&(this.withFilters=!0,this.queryFiltersString="&queryFilters="+encodeURIComponent(JSON.stringify(e))),this.refresh(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,this,[[0,10]])})))},refresh:function(){var t=this;this.globallyChecked=!1,this.isRefreshing=!0,nsHttpClient.get("".concat(this.getParsedSrc)).subscribe((function(e){e.data=e.data.map((function(e){return t.selectedEntries.filter((function(t){return t.$id===e.$id})).length>0&&(e.$checked=!0),e})),t.isRefreshing=!1,t.result=e,t.page=e.current_page}),(function(e){t.isRefreshing=!1,n.kX.error(e.message).subscribe()}))}}};const K=(0,k.Z)(Q,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full rounded-lg bg-white",class:"light"!==t.mode?"shadow mb-8":"",attrs:{id:"crud-table"}},["light"!==t.mode?e("div",{staticClass:"p-2 border-b border-gray-200 flex flex-col md:flex-row justify-between flex-wrap",attrs:{id:"crud-table-header"}},[e("div",{staticClass:"w-full md:w-auto -mx-2 mb-2 md:mb-0 flex",attrs:{id:"crud-search-box"}},[e("div",{staticClass:"px-2 flex items-center justify-center"},[e("a",{staticClass:"rounded-full hover:border-blue-400 hover:text-white hover:bg-blue-400 text-sm h-10 flex items-center justify-center cursor-pointer bg-white px-3 outline-none text-gray-800 border border-gray-400",attrs:{href:t.createUrl||"#"}},[e("i",{staticClass:"las la-plus"})])]),t._v(" "),e("div",{staticClass:"px-2"},[e("div",{staticClass:"rounded-full p-1 bg-gray-200 flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"w-36 md:w-auto bg-transparent outline-none px-2",attrs:{type:"text"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),t._v(" "),e("button",{staticClass:"rounded-full w-8 h-8 bg-white outline-none hover:bg-blue-400 hover:text-white",on:{click:function(e){return t.search()}}},[e("i",{staticClass:"las la-search"})]),t._v(" "),t.searchQuery?e("button",{staticClass:"ml-1 rounded-full w-8 h-8 bg-red-400 text-white outline-none hover:bg-red-500 hover:text-white",on:{click:function(e){return t.cancelSearch()}}},[e("i",{staticClass:"las la-times"})]):t._e()])]),t._v(" "),e("div",{staticClass:"px-2 flex"},[e("button",{staticClass:"rounded-full hover:border-blue-400 hover:text-white hover:bg-blue-400 text-sm h-10 bg-white px-3 outline-none text-gray-800 border border-gray-400",on:{click:function(e){return t.refresh()}}},[e("i",{staticClass:"las la-sync",class:t.isRefreshing?"animate-spin":""})])]),t._v(" "),t.showQueryFilters?e("div",{staticClass:"px-2 flex"},[e("button",{staticClass:"border rounded-full hover:border-blue-400 hover:text-white hover:bg-blue-400 text-sm h-10 px-3 outline-none bg-white",class:t.withFilters?"bg-blue-100 border-blue-200":"text-gray-800 border-gray-400",on:{click:function(e){return t.openQueryFilter()}}},[t.withFilters?t._e():e("i",{staticClass:"las la-filter"}),t._v(" "),t.withFilters?e("i",{staticClass:"las la-check"}):t._e(),t._v(" "),t.withFilters?t._e():e("span",[t._v(t._s(t.__("Filters")))]),t._v(" "),t.withFilters?e("span",[t._v(t._s(t.__("Has Filters")))]):t._e()])]):t._e()]),t._v(" "),e("div",{staticClass:"-mx-1 flex flex-wrap w-full md:w-auto",attrs:{id:"crud-buttons"}},[t.selectedEntries.length>0?e("div",{staticClass:"px-1 flex"},[e("button",{staticClass:"flex justify-center items-center rounded-full text-sm h-10 px-3 hover:border-blue-400 hover:text-white hover:bg-blue-400 outline-none border-gray-400 border text-gray-700",on:{click:function(e){return t.clearSelectedEntries()}}},[e("i",{staticClass:"lar la-check-square"}),t._v(" "+t._s(t.__("{entries} entries selected").replace("{entries}",t.selectedEntries.length))+"\n                ")])]):t._e(),t._v(" "),e("div",{staticClass:"px-1 flex"},[e("button",{staticClass:"flex justify-center items-center rounded-full text-sm h-10 px-3 bg-teal-400 outline-none text-white font-semibold",on:{click:function(e){return t.downloadContent()}}},[e("i",{staticClass:"las la-download"}),t._v(" "+t._s(t.__("Download")))])])])]):t._e(),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"overflow-x-auto flex-auto"},[Object.values(t.columns).length>0?e("table",{staticClass:"table w-full"},[e("thead",[e("tr",{staticClass:"text-gray-700 border-b border-gray-200"},[e("th",{staticClass:"text-center px-2 border-gray-200 bg-gray-100 border w-16 py-2"},[e("ns-checkbox",{attrs:{checked:t.globallyChecked},on:{change:function(e){return t.handleGlobalChange(e)}}})],1),t._v(" "),t._l(t.columns,(function(r,s){return e("th",{key:s,staticClass:"cursor-pointer justify-betweenw-40 border bg-gray-100 text-left px-2 border-gray-200 py-2",style:{"min-width":r.width||"auto"},on:{click:function(e){return t.sort(s)}}},[e("div",{staticClass:"w-full flex justify-between items-center"},[e("span",{staticClass:"flex"},[t._v(t._s(r.label))]),t._v(" "),e("span",{staticClass:"h-6 w-6 flex justify-center items-center"},["desc"===r.$direction?e("i",{staticClass:"las la-sort-amount-up"}):t._e(),t._v(" "),"asc"===r.$direction?e("i",{staticClass:"las la-sort-amount-down"}):t._e()])])])})),t._v(" "),e("th",{staticClass:"text-left px-2 py-2 w-16 border border-gray-200 bg-gray-100"})],2)]),t._v(" "),e("tbody",[void 0!==t.result.data&&t.result.data.length>0?t._l(t.result.data,(function(r,s){return e("ns-table-row",{key:s,attrs:{columns:t.columns,row:r},on:{updated:function(e){return t.refreshRow(e)},reload:function(e){return t.refresh()},toggled:function(e){return t.handleShowOptions(e)}}})})):t._e(),t._v(" "),t.result&&0!==t.result.data.length?t._e():e("tr",[e("td",{staticClass:"text-center text-gray-600 py-3",attrs:{colspan:Object.values(t.columns).length+2}},[t._v(t._s(t.__("There is nothing to display...")))])])],2)]):t._e()])]),t._v(" "),e("div",{staticClass:"p-2 flex flex-col md:flex-row justify-between"},[t.bulkActions.length>0?e("div",{staticClass:"mb-2 md:mb-0 flex justify-between rounded-full bg-gray-200 p-1",attrs:{id:"grouped-actions"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.bulkAction,expression:"bulkAction"}],staticClass:"text-gray-800 outline-none bg-transparent",attrs:{id:"grouped-actions"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.bulkAction=e.target.multiple?r:r[0]}}},[e("option",{attrs:{selected:"",value:""}},[t._t("bulk-label",(function(){return[t._v(t._s(t.__("Bulk Actions")))]}))],2),t._v(" "),t._l(t.bulkActions,(function(r,s){return e("option",{key:s,domProps:{value:r.identifier}},[t._v(t._s(r.label))])}))],2),t._v(" "),e("button",{staticClass:"h-8 w-8 outline-none hover:bg-blue-400 hover:text-white rounded-full bg-white flex items-center justify-center",on:{click:function(e){return t.bulkDo()}}},[t._t("bulk-go",(function(){return[t._v(t._s(t.__("Go")))]}))],2)]):t._e(),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"items-center flex text-gray-600 mx-4"},[t._v(t._s(t.resultInfo))]),t._v(" "),e("div",{staticClass:"flex -mx-1",attrs:{id:"pagination"}},[t.result.current_page?[e("a",{staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.page=t.result.first_page,t.refresh()}}},[e("i",{staticClass:"las la-angle-double-left"})]),t._v(" "),t._l(t.pagination,(function(r,s){return["..."!==t.page?e("a",{key:s,staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full hover:bg-blue-400 hover:text-white",class:t.page==r?"bg-blue-400 text-white":"bg-gray-200 text-gray-700",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.page=r,t.refresh()}}},[t._v(t._s(r))]):t._e(),t._v(" "),"..."===t.page?e("a",{key:s,staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700",attrs:{href:"javascript:void(0)"}},[t._v("...")]):t._e()]})),t._v(" "),e("a",{staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.page=t.result.last_page,t.refresh()}}},[e("i",{staticClass:"las la-angle-double-right"})])]:t._e()],2)])])])}),[],!1,null,null,null).exports;var J=r(3571),tt=r(1726),et=r(7259);const rt=s.default.extend({methods:{__:u.__},data:function(){return{svg:""}},mounted:function(){this.svg=(0,tt.createAvatar)(et,{seed:this.displayName})},computed:{avatarUrl:function(){return 0===this.url.length?"":this.url}},props:["url","display-name"]});const st=(0,k.Z)(rt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex justify-between items-center flex-shrink-0"},[e("span",{staticClass:"hidden md:inline-block text-gray-600 px-2"},[t._v(t._s(t.__("Howdy, {name}").replace("{name}",this.displayName)))]),t._v(" "),e("span",{staticClass:"md:hidden text-gray-600 px-2"},[t._v(t._s(t.displayName))]),t._v(" "),e("div",{staticClass:"px-2"},[e("div",{staticClass:"w-8 h-8 overflow-hidden rounded-full bg-gray-600"},[""!==t.avatarUrl?e("img",{staticClass:"w-8 h-8 overflow-hidden rounded-full",attrs:{src:t.avatarUrl,alt:t.displayName,srcset:""}}):t._e(),t._v(" "),""===t.avatarUrl?e("div",{domProps:{innerHTML:t._s(t.svg)}}):t._e()])])])}),[],!1,null,null,null).exports;var nt=r(9341),it=r(5425),at=r(1156)},6261:(t,e,r)=>{"use strict";r.d(e,{W:()=>c,f:()=>u});var s=r(538),n=r(2077),i=r.n(n),a=r(6740),o=r.n(a),l=new Array(parseInt(ns.currency.ns_currency_precision)).fill("").map((function(t){return 0})).join(""),c=s.default.filter("currency",(function(t){var e,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";switch(ns.currency.ns_currency_prefered){case"iso":e=ns.currency.ns_currency_iso;break;case"symbol":e=ns.currency.ns_currency_symbol}if("full"===s){var n={decimal:ns.currency.ns_currency_decimal_separator,separator:ns.currency.ns_currency_thousand_separator,precision:parseInt(ns.currency.ns_currency_precision),symbol:""};r=o()(t,n).format()}else r=i()(t).format("0.0a");return"".concat("before"===ns.currency.ns_currency_position?e:"").concat(r).concat("after"===ns.currency.ns_currency_position?e:"")})),u=function(t){var e="0.".concat(l);return parseFloat(i()(t).format(e))}},7761:(t,e,r)=>{"use strict";r.d(e,{b:()=>s});var s=r(538).default.filter("truncate",(function(t,e){return t?(t=t.toString()).length>e?t.substring(0,e)+"...":t:""}))},40:(t,e,r)=>{"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s)}}function i(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}r.d(e,{Z:()=>a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,s;return e=t,r=[{key:"validateFields",value:function(t){var e=this;return 0===t.map((function(t){return e.checkField(t),t.errors?0===t.errors.length:0})).filter((function(t){return!1===t})).length}},{key:"validateFieldsErrors",value:function(t){var e=this;return t.map((function(t){return e.checkField(t),t.errors})).flat()}},{key:"validateForm",value:function(t){t.main&&this.validateField(t.main);var e=[];for(var r in t.tabs){var s=[],n=this.validateFieldsErrors(t.tabs[r].fields);n.length>0&&s.push(n),t.tabs[r].errors=s.flat(),e.push(s.flat())}return e.flat().filter((function(t){return void 0!==t}))}},{key:"initializeTabs",value:function(t){var e=0;for(var r in t)0===e&&(t[r].active=!0),t[r].active=void 0!==t[r].active&&t[r].active,t[r].fields=this.createFields(t[r].fields),e++;return t}},{key:"validateField",value:function(t){return this.checkField(t)}},{key:"fieldsValid",value:function(t){return!(t.map((function(t){return t.errors&&t.errors.length>0})).filter((function(t){return t})).length>0)}},{key:"createFields",value:function(t){return t.map((function(t){return t.type=t.type||"text",t.errors=t.errors||[],t.disabled=t.disabled||!1,"custom"===t.type&&(t.component=nsExtraComponents[t.name]),t}))}},{key:"createForm",value:function(t){if(t.main&&(t.main=this.createFields([t.main])[0]),t.tabs)for(var e in t.tabs)t.tabs[e].fields=this.createFields(t.tabs[e].fields),t.tabs[e].errors=[];return t}},{key:"enableFields",value:function(t){return t.map((function(t){return t.disabled=!1}))}},{key:"disableFields",value:function(t){return t.map((function(t){return t.disabled=!0}))}},{key:"disableForm",value:function(t){for(var e in t.main&&(t.main.disabled=!0),t.tabs)t.tabs[e].fields.forEach((function(t){return t.disabled=!0}))}},{key:"enableForm",value:function(t){for(var e in t.main&&(t.main.disabled=!1),t.tabs)t.tabs[e].fields.forEach((function(t){return t.disabled=!1}))}},{key:"getValue",value:function(t){var e={};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"checkField",value:function(t){var e=this;return void 0!==t.validation&&(t.errors=[],this.detectValidationRules(t.validation).forEach((function(r){e.fieldPassCheck(t,r)}))),t}},{key:"extractForm",value:function(t){var e={};if(t.main&&(e[t.main.name]=t.main.value),t.tabs)for(var r in t.tabs)void 0===e[r]&&(e[r]={}),e[r]=this.extractFields(t.tabs[r].fields);return e}},{key:"extractFields",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"detectValidationRules",value:function(t){var e=function(t){var e;return["email","required"].includes(t)?{identifier:t}:(e=/(min)\:([0-9])+/g.exec(t))||(e=/(max)\:([0-9])+/g.exec(t))?{identifier:e[1],value:e[2]}:t};return Array.isArray(t)?t.filter((function(t){return"string"==typeof t})).map(e):t.split("|").map(e)}},{key:"triggerError",value:function(t,e){if(e.errors){var r=function(r){var s=r.split(".").filter((function(t){return!/^\d+$/.test(t)}));2===s.length&&t.tabs[s[0]].fields.forEach((function(t){t.name===s[1]&&e.errors[r].forEach((function(e){var r={identifier:"invalid",invalid:!0,message:e,name:t.name};t.errors.push(r)}))})),r===t.main.name&&e.errors[r].forEach((function(e){t.main.errors.push({identifier:"invalid",invalid:!0,message:e,name:t.main.name})}))};for(var s in e.errors)r(s)}}},{key:"triggerFieldsErrors",value:function(t,e){if(e&&e.errors){var r=function(r){t.forEach((function(t){t.name===r&&e.errors[r].forEach((function(e){var r={identifier:"invalid",invalid:!0,message:e,name:t.name};t.errors.push(r)}))}))};for(var s in e.errors)r(s)}}},{key:"fieldPassCheck",value:function(t,e){if("required"===e.identifier){if(void 0===t.value||null===t.value||0===t.value.length)return t.errors.push({identifier:e.identifier,invalid:!0,name:t.name});t.errors.forEach((function(r,s){r.identifier===e.identifier&&!0===r.invalid&&t.errors.splice(s,1)}))}if("email"===e.identifier&&t.value.length>0){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.value))return t.errors.push({identifier:e.identifier,invalid:!0,name:t.name});t.errors.forEach((function(r,s){!0===r[e.identifier]&&t.errors.splice(s,1)}))}return t}}],r&&n(e.prototype,r),s&&n(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},9165:(t,e,r)=>{"use strict";r.d(e,{__:()=>s,c:()=>n});var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NexoPOS";return nsLanguage.getEntries(e)&&nsLanguage.getEntries(e)[t]||t},n=function(t,e){return nsLanguage.getEntries(e)&&nsLanguage.getEntries(e)[t]||t}},4503:(t,e,r)=>{"use strict";function s(){var t=this;Object.keys(this).includes("$popup")&&this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams&&void 0!==t.$popupParams.reject&&t.$popupParams.reject(!1),t.$popup.close()),"press-esc"===e.event&&(t.$popupParams&&void 0!==t.$popupParams.reject&&t.$popupParams.reject(!1),t.$popup.close())}))}r.d(e,{Z:()=>s})},4914:(t,e,r)=>{"use strict";function s(t){void 0!==this.$popupParams.resolve&&this.$popupParams.reject&&(!1!==t?this.$popupParams.resolve(t):this.$popupParams.reject(t)),this.$popup.close()}r.d(e,{Z:()=>s})},2285:(t,e,r)=>{"use strict";r.d(e,{G:()=>o});var s=r(9248);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,a(s.key),s)}}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={primarySelector:void 0,popupClass:"shadow-lg h-half w-1/2 bg-white"},this.container=document.createElement("div"),this.popupBody=document.createElement("div"),this.config=Object.assign(this.config,e),void 0===this.config.primarySelector&&document.querySelectorAll(".is-popup").length>0){var r=document.querySelectorAll(".is-popup").length;this.parentWrapper=document.querySelectorAll(".is-popup")[r-1]}else this.parentWrapper=document.querySelector("body").querySelectorAll("div")[0];this.event=new s.x}var e,r,n;return e=t,r=[{key:"open",value:function(t){var e,r,s,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.querySelector("body").querySelectorAll("div")[0];this.parentWrapper.style.filter="blur(4px)",a.style.filter="blur(6px)",this.container.setAttribute("class","absolute top-0 left-0 w-full h-full flex items-center justify-center is-popup"),this.container.addEventListener("click",(function(t){n.event.next({event:"click-overlay",value:!0}),t.stopPropagation()})),this.popupBody.addEventListener("click",(function(t){t.stopImmediatePropagation()})),this.container.style.background="rgb(51 51 51 / 20%)",this.container.id="popup-container-"+document.querySelectorAll(".is-popup").length,this.popupBody.setAttribute("class"," zoom-out-entrance"),this.popupBody.innerHTML='<div class="popup-body"></div>',this.container.appendChild(this.popupBody),document.body.appendChild(this.container);var o=Vue.extend(t);this.instance=new o({propsData:{popup:this}}),this.instance.template=(null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.template)||void 0,this.instance.render=t.render||void 0,this.instance.methods=(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.methods)||(null==t?void 0:t.methods),this.instance.data=(null===(s=null==t?void 0:t.options)||void 0===s?void 0:s.data)||(null==t?void 0:t.data),this.instance.$popup=this,this.instance.$popupParams=i,this.instance.$mount("#".concat(this.container.id," .popup-body"))}},{key:"close",value:function(){var t=this;this.instance.$destroy(),this.event.unsubscribe(),this.parentWrapper.style.filter="blur(0px)";var e=document.querySelector("body").querySelectorAll("div")[0];document.querySelectorAll(".is-popup").length<=1&&(e.style.filter="blur(0px)"),this.popupBody.classList.remove("zoom-out-entrance"),this.popupBody.classList.add("zoom-in-exit"),this.container.classList.remove("is-popup"),setTimeout((function(){t.container.remove()}),300)}}],n=[{key:"show",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return s.open(e,r),s}}],r&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4085:(t,e,r)=>{"use strict";r.d(e,{S:()=>o});var s=r(3260);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,a(s.key),s)}}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===window.snackbarQueue&&(window.snackbarQueue=[],this.queue=window.snackbarQueue)}var e,r,n;return e=t,r=[{key:"show",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"info"};return s.Observable.create((function(s){var i=r.__createSnack({message:t,label:e,type:n.type}),a=i.buttonNode,o=(i.textNode,i.snackWrapper,i.sampleSnack);a.addEventListener("click",(function(t){s.onNext(a),s.onCompleted(),o.remove()})),r.__startTimer(n.duration,o)}))}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"error"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"error"}))}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"success"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"success"}))}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"info"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"info"}))}},{key:"__startTimer",value:function(t,e){var r,s=function(){t>0&&!1!==t&&(r=setTimeout((function(){e.remove()}),t))};e.addEventListener("mouseenter",(function(){clearTimeout(r)})),e.addEventListener("mouseleave",(function(){s()})),s()}},{key:"__createSnack",value:function(t){var e=t.message,r=t.label,s=t.type,n=void 0===s?"info":s,i=document.getElementById("snack-wrapper")||document.createElement("div"),a=document.createElement("div"),o=document.createElement("p"),l=document.createElement("div"),c=document.createElement("button"),u="",d="";switch(n){case"info":u="text-white hover:bg-blue-400 bg-blue-500",d="bg-gray-900 text-white";break;case"error":u="text-red-700 hover:bg-white bg-white",d="bg-red-500 text-white";break;case"success":u="text-green-700 hover:bg-white bg-white",d="bg-green-500 text-white"}return o.textContent=e,r&&(c.textContent=r,c.setAttribute("class","px-3 py-2 shadow rounded uppercase ".concat(u)),l.appendChild(c)),a.appendChild(o),a.appendChild(l),a.setAttribute("class","md:rounded py-2 px-3 md:w-2/5 w-full z-10 md:my-2 shadow-lg flex justify-between items-center zoom-in-entrance anim-duration-300 ".concat(d)),i.appendChild(a),null===document.getElementById("snack-wrapper")&&(i.setAttribute("id","snack-wrapper"),i.setAttribute("class","absolute bottom-0 w-full flex justify-between items-center flex-col"),document.body.appendChild(i)),{snackWrapper:i,sampleSnack:a,buttonsWrapper:l,buttonNode:c,textNode:o}}}],r&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4975:(t,e,r)=>{"use strict";var s=r(381),n=r.n(s);ns.date.moment=n()(ns.date.current),ns.date.interval=setInterval((function(){ns.date.moment.add(1,"seconds"),ns.date.current=n()(ns.date.current).add(1,"seconds").format("YYYY-MM-DD HH:mm:ss")}),1e3),ns.date.getNowString=function(){var t=Date.parse((new Date).toLocaleString("en-US",{timeZone:ns.date.timeZone}));return n()(t).format("YYYY-MM-DD HH:mm:ss")},ns.date.getMoment=function(){var t=Date.parse((new Date).toLocaleString("en-US",{timeZone:ns.date.timeZone}));return n()(t)}},6700:(t,e,r)=>{var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-ps":315,"./ar-ps.js":315,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":4415,"./fy.js":4415,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku-kmr":563,"./ku-kmr.js":563,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function n(t){var e=i(t);return r(e)}function i(t){if(!r.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id=6700},7217:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(381),n=r.n(s);const i={name:"ns-date-time-picker",props:["field","date"],data:function(){return{visible:!1,hours:0,minutes:0,currentView:"days",currentDay:void 0,moment:n(),months:new Array(11).fill("").map((function(t,e){return e})),daysOfWeek:new Array(7).fill("").map((function(t,e){return e})),calendar:[[]]}},computed:{momentCopy:function(){return n()()}},watch:{visible:function(){var t=this;this.visible&&setTimeout((function(){t.$refs.hours.addEventListener("focus",(function(){this.select()})),t.$refs.minutes.addEventListener("focus",(function(){this.select()}))}),100)}},mounted:function(){var t=this;document.addEventListener("mousedown",(function(e){return t.checkClickedItem(e)})),this.field?this.currentDay=[void 0,"",null].includes(this.field.value)?n()():n()(this.field.value):this.currentDay=[void 0,"",null].includes(this.date)?n()():n()(this.date),console.log(this.date),this.hours=this.currentDay.format("HH"),this.minutes=this.currentDay.format("mm"),this.build()},methods:{__:r(9165).__,erase:function(){this.selectDate()},setYear:function(t){parseInt(t.srcElement.value)>0&&parseInt(t.srcElement.value)<9999&&(this.currentDay.year(t.srcElement.value),this.updateDateTime())},subYear:function(){parseFloat(this.currentDay.format("YYYY"))>0&&(this.currentDay.subtract(1,"year"),this.updateDateTime())},addYear:function(){this.currentDay.add(1,"year"),this.updateDateTime()},toggleView:function(t){var e=this;this.currentView=t,"years"===this.currentView&&setTimeout((function(){e.$refs.year.select()}),100)},setMonth:function(t){this.currentDay.month(t),this.updateDateTime()},detectHoursChange:function(){parseFloat(this.hours)<0&&(this.hours=0),parseFloat(this.hours)>23&&(this.hours=23),this.updateDateTime()},detectMinuteChange:function(){parseFloat(this.minutes)<0&&(this.minutes=0),parseFloat(this.minutes)>59&&(this.minutes=59),this.updateDateTime()},updateDateTime:function(){this.currentDay.hours(this.hours),this.currentDay.minutes(this.minutes),this.build(),this.selectDate(this.currentDay)},checkClickedItem:function(t){!this.$el.contains(t.srcElement)&&this.visible&&(this.visible=!1)},selectDate:function(t){[void 0].includes(t)?(this.field&&(this.field.value=null),this.$emit("change",null)):(this.currentDay=t,this.currentDay.hours(this.hours),this.currentDay.minutes(this.minutes),this.field&&(this.field.value=this.currentDay.format("YYYY/MM/DD HH:mm")),this.$emit("change",this.field?this.field:this.currentDay))},subMonth:function(){this.currentDay.subtract(1,"month"),this.build()},addMonth:function(){this.currentDay.add(1,"month"),this.build()},resetCalendar:function(){this.calendar=[[]]},build:function(){this.resetCalendar();this.currentDay.clone().startOf("month");for(var t=this.currentDay.clone().startOf("month"),e=this.currentDay.clone().endOf("month");;){0===t.day()&&this.calendar[0].length>0&&this.calendar.push([]);var r=this.calendar.length-1;if(this.calendar[r].push({date:t.clone(),dayOfWeek:t.day(),isToday:t.isSame(n().now(),"day")}),t.isSame(e,"day"))break;t.add(1,"day")}}}};const a=(0,r(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"picker mb-2"},[t.field?e("label",{staticClass:"block leading-5 font-medium text-gray-700"},[t._v(t._s(t.field.label))]):t._e(),t._v(" "),e("div",{staticClass:"rounded cursor-pointer bg-white px-1 py-1 flex items-center text-gray-700",class:t.field?"mt-1 border-2":"shadow",on:{click:function(e){t.visible=!t.visible}}},[e("i",{staticClass:"las la-clock text-2xl"}),t._v(" "),t.currentDay&&t.field?e("span",{staticClass:"mx-1 text-sm"},[null!==t.field.value?e("span",[t._v(t._s(t.currentDay.format("YYYY/MM/DD HH:mm")))]):t._e(),t._v(" "),null===t.field.value?e("span",[t._v("N/A")]):t._e()]):t._e(),t._v(" "),t.currentDay&&t.date?e("span",{staticClass:"mx-1 text-sm"},[null!==t.date?e("span",[t._v(t._s(t.currentDay.format("YYYY/MM/DD HH:mm")))]):t._e(),t._v(" "),null===t.date?e("span",[t._v("N/A")]):t._e()]):t._e()]),t._v(" "),t.field?e("p",{staticClass:"text-sm text-gray-500 py-1"},[t._v(t._s(t.field.description))]):t._e(),t._v(" "),t.visible?e("div",{staticClass:"relative z-10 h-0 w-0"},[e("div",{staticClass:"absolute w-72 shadow-lg rounded bg-white anim-duration-300 zoom-in-entrance flex flex-col",class:t.field?"-mt-4":"mt-2"},["years"===t.currentView?e("div",{staticClass:"flex-auto"},[e("div",{staticClass:"p-2 flex flex items-center"},[e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.subMonth()}}},[e("i",{staticClass:"las la-angle-left"})])]),t._v(" "),e("div",{staticClass:"flex flex-auto font-semibold text-gray-700 justify-center"},[e("span",{staticClass:"mr-2 cursor-pointer border-b border-blue-400 border-dashed",on:{click:function(e){return t.toggleView("months")}}},[t._v(t._s(t.currentDay.format("MMM")))]),t._v(" "),e("span",{staticClass:"cursor-pointer border-b border-blue-400 border-dashed",on:{click:function(e){return t.toggleView("years")}}},[t._v(t._s(t.currentDay.format("YYYY")))])]),t._v(" "),e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.addMonth()}}},[e("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),e("div",{staticClass:"h-32 flex items-center justify-center text-gray-700"},[e("div",{staticClass:"rounded border-blue-400 border-2 flex w-2/3 overflow-hidden"},[e("button",{staticClass:"bg-blue-400 text-white px-4 py-2",on:{click:function(e){return t.subYear()}}},[e("i",{staticClass:"las la-minus"})]),t._v(" "),e("input",{ref:"year",staticClass:"p-2 w-24 text-center",attrs:{type:"text"},domProps:{value:t.currentDay.format("YYYY")},on:{change:function(e){return t.setYear(e)}}}),t._v(" "),e("button",{staticClass:"bg-blue-400 text-white px-4 py-2",on:{click:function(e){return t.addYear()}}},[e("i",{staticClass:"las la-plus"})])])])]):t._e(),t._v(" "),"months"===t.currentView?e("div",{staticClass:"flex-auto"},[e("div",{staticClass:"p-2 flex items-center"},[e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.subMonth()}}},[e("i",{staticClass:"las la-angle-left"})])]),t._v(" "),e("div",{staticClass:"flex flex-auto font-semibold text-gray-700 justify-center"},[e("span",{staticClass:"mr-2 border-b border-blue-400 border-dashed"},[t._v(t._s(t.currentDay.format("MMM")))]),t._v(" "),e("span",{staticClass:"cursor-pointer border-b border-blue-400 border-dashed",on:{click:function(e){return t.toggleView("years")}}},[t._v(t._s(t.currentDay.format("YYYY")))])]),t._v(" "),e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.addMonth()}}},[e("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),e("div",{staticClass:"grid grid-flow-row grid-cols-3 grid-rows-1 gap-0 text-gray-700"},t._l(t.months,(function(r,s){return e("div",{key:s,staticClass:"h-8 flex justify-center items-center text-sm"},[[e("div",{staticClass:"h-full w-full flex items-center justify-center cursor-pointer",class:t.momentCopy.month(r).format("MM")===t.currentDay.format("MM")?"bg-blue-400 text-white border border-blue-500":"hover:bg-gray-100 border border-gray-200",on:{click:function(e){return t.setMonth(r)}}},[t._v("\n                                "+t._s(t.momentCopy.format("MMM"))+"\n                            ")])]],2)})),0)]):t._e(),t._v(" "),"days"===t.currentView?e("div",{staticClass:"flex-auto"},[e("div",{staticClass:"p-2 flex items-center"},[e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.subMonth()}}},[e("i",{staticClass:"las la-angle-left"})])]),t._v(" "),e("div",{staticClass:"flex flex-auto font-semibold text-gray-700 justify-center"},[e("span",{staticClass:"mr-2 cursor-pointer border-b border-blue-400 border-dashed",on:{click:function(e){return t.toggleView("months")}}},[t._v(t._s(t.currentDay.format("MMM")))]),t._v(" "),e("span",{staticClass:"cursor-pointer border-b border-blue-400 border-dashed",on:{click:function(e){return t.toggleView("years")}}},[t._v(t._s(t.currentDay.format("YYYY")))])]),t._v(" "),e("div",[e("button",{staticClass:"w-8 h-8 border hover:bg-gray-100 rounded",on:{click:function(e){return t.addMonth()}}},[e("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),e("div",{staticClass:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},[e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Sun")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Mon")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Tue")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Wed")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Thr")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Fri")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Sat")))])]),t._v(" "),t._l(t.calendar,(function(r,s){return e("div",{key:s,staticClass:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},t._l(t.daysOfWeek,(function(s,n){return e("div",{key:n,staticClass:"h-8 flex justify-center items-center text-sm"},[t._l(r,(function(r,n){return[r.dayOfWeek===s?e("div",{key:n,staticClass:"h-full w-full flex items-center justify-center cursor-pointer",class:r.date.format("DD")===t.currentDay.format("DD")?"bg-blue-400 text-white border border-blue-500":"hover:bg-gray-100 border border-gray-200",on:{click:function(e){return t.selectDate(r.date)}}},[t._v("\n                                "+t._s(r.date.format("DD"))+"\n                            ")]):t._e()]}))],2)})),0)}))],2):t._e(),t._v(" "),e("div",{staticClass:"border-t border-gray-200 w-full p-2"},[e("div",{staticClass:"-mx-1 flex justify-between"},[e("div",{staticClass:"px-1"},[e("div",{staticClass:"-mx-1 flex"},[t.field?e("div",{staticClass:"px-1"},[e("button",{staticClass:"border hover:text-white rounded w-8 h-8 flex items-center justify-center hover:bg-blue-500",on:{click:function(e){return t.erase()}}},[e("i",{staticClass:"las la-trash"})])]):t._e(),t._v(" "),"days"!==t.currentView?e("div",{staticClass:"px-1"},[e("button",{staticClass:"border hover:text-white rounded w-8 h-8 flex items-center justify-center hover:bg-red-500",on:{click:function(e){return t.toggleView("days")}}},[e("i",{staticClass:"las la-sign-out-alt"})])]):t._e()])]),t._v(" "),e("div",{staticClass:"px-2"},[e("div",{staticClass:"rounded flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],ref:"hours",staticClass:"w-12 p-1 text-center border border-gray-200 active:border-blue-400",attrs:{placeholder:"HH",type:"number"},domProps:{value:t.hours},on:{change:function(e){return t.detectHoursChange(e)},input:function(e){e.target.composing||(t.hours=e.target.value)}}}),t._v(" "),e("span",{staticClass:"mx-1"},[t._v(":")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],ref:"minutes",staticClass:"w-12 p-1 text-center border border-gray-200 active:border-blue-400",attrs:{placeholder:"mm",type:"number"},domProps:{value:t.minutes},on:{change:function(e){return t.detectMinuteChange(e)},input:function(e){e.target.composing||(t.minutes=e.target.value)}}})])])])])])]):t._e()])}),[],!1,null,null,null).exports},5425:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(381),n=r.n(s);const i={name:"ns-datepicker",props:["label","date"],data:function(){return{visible:!1,currentDay:null,daysOfWeek:new Array(7).fill("").map((function(t,e){return e})),calendar:[[]]}},mounted:function(){document.addEventListener("click",this.checkClickedItem),this.currentDay=[void 0,null].includes(this.date)?n()():n()(this.date),this.build()},methods:{__:r(9165).__,checkClickedItem:function(t){!this.$el.contains(t.srcElement)&&this.visible&&(this.visible=!1)},selectDate:function(t){this.currentDay=t,this.visible=!1,this.$emit("change",t)},subMonth:function(){this.currentDay.subtract(1,"month"),this.build()},addMonth:function(){this.currentDay.add(1,"month"),this.build()},resetCalendar:function(){this.calendar=[[]]},build:function(){this.resetCalendar();this.currentDay.clone().startOf("month");for(var t=this.currentDay.clone().startOf("month"),e=this.currentDay.clone().endOf("month");;){0===t.day()&&this.calendar[0].length>0&&this.calendar.push([]);var r=this.calendar.length-1;if(this.calendar[r].push({date:t.clone(),dayOfWeek:t.day(),isToday:t.isSame(n().now(),"day")}),t.isSame(e,"day"))break;t.add(1,"day")}}}};const a=(0,r(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"picker"},[e("div",{staticClass:"rounded cursor-pointer bg-white shadow px-1 py-1 flex items-center text-gray-700",on:{click:function(e){t.visible=!t.visible}}},[e("i",{staticClass:"las la-clock text-2xl"}),t._v(" "),e("span",{staticClass:"mx-1 text-sm"},[e("span",[t._v(t._s(t.label||t.__("Date"))+" : ")]),t._v(" "),t.currentDay?e("span",[t._v(t._s(t.currentDay.format("YYYY/MM/DD")))]):t._e(),t._v(" "),null===t.currentDay?e("span",[t._v(t._s(t.__("N/A")))]):t._e()])]),t._v(" "),t.visible?e("div",{staticClass:"relative h-0 w-0 -mb-2"},[e("div",{staticClass:"w-72 mt-2 shadow rounded bg-white anim-duration-300 zoom-in-entrance flex flex-col"},[e("div",{staticClass:"flex-auto"},[e("div",{staticClass:"p-2 flex items-center"},[e("div",[e("button",{staticClass:"w-8 h-8 bg-gray-400 rounded",on:{click:function(e){return t.subMonth()}}},[e("i",{staticClass:"las la-angle-left"})])]),t._v(" "),e("div",{staticClass:"flex flex-auto font-semibold text-gray-700 justify-center"},[t._v(t._s(t.currentDay.format("MMM"))+" "+t._s(t.currentDay.format("YYYY")))]),t._v(" "),e("div",[e("button",{staticClass:"w-8 h-8 bg-gray-400 rounded",on:{click:function(e){return t.addMonth()}}},[e("i",{staticClass:"las la-angle-right"})])])]),t._v(" "),e("div",{staticClass:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},[e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Sun")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Mon")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Tue")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Wed")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Thr")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Fri")))]),t._v(" "),e("div",{staticClass:"border border-gray-200 h-8 flex justify-center items-center text-sm"},[t._v(t._s(t.__("Sat")))])]),t._v(" "),t._l(t.calendar,(function(r,s){return e("div",{key:s,staticClass:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},t._l(t.daysOfWeek,(function(s,n){return e("div",{key:n,staticClass:"h-8 flex justify-center items-center text-sm"},[t._l(r,(function(r,n){return[r.dayOfWeek===s?e("div",{key:n,staticClass:"h-full w-full flex items-center justify-center cursor-pointer",class:r.date.format("DD")===t.currentDay.format("DD")?"bg-blue-400 text-white border border-blue-500":"hover:bg-gray-100 border border-gray-200",on:{click:function(e){return t.selectDate(r.date)}}},[t._v("\n                                "+t._s(r.date.format("DD"))+"\n                            ")]):t._e()]}))],2)})),0)}))],2),t._v(" "),e("div")])]):t._e()])}),[],!1,null,null,null).exports},9341:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={name:"ns-notice",props:["color"],computed:{actualColor:function(){return this.color||"blue"}}};const n=(0,r(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4",class:"bg-"+t.actualColor+"-100 border-l-4 border-"+t.actualColor+"-500 text-"+t.actualColor+"-700",attrs:{role:"alert"}},[e("p",{staticClass:"font-bold"},[t._t("title")],2),t._v(" "),e("p",[t._t("description")],2)])}),[],!1,null,null,null).exports},3571:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});function s(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}const i={name:"ns-numpad",props:["value","currency","floating","limit"],data:function(){return{number:parseInt(1+new Array(parseInt(ns.currency.ns_currency_precision)).fill("").map((function(t){return 0})).join("")),screenValue:0,order:null,cursor:parseInt(ns.currency.ns_currency_precision),orderSubscription:null,allSelected:!0,keys:[].concat(s([7,8,9].map((function(t){return{identifier:t,value:t}}))),s([4,5,6].map((function(t){return{identifier:t,value:t}}))),s([1,2,3].map((function(t){return{identifier:t,value:t}}))),[{identifier:"backspace",icon:"la-backspace"},{identifier:0,value:0},{identifier:"next",icon:"la-share"}])}},mounted:function(){this.floating&&this.value>0?this.screenValue=parseFloat(this.value/this.number):this.screenValue=0},watch:{value:function(){this.value.toString().length>0&&(this.floating?this.screenValue=Math.round(this.value*this.number).toString():this.screenValue=this.value)}},methods:{increaseBy:function(t){var e=parseInt(1+new Array(this.cursor).fill("").map((function(t){return 0})).join(""));this.screenValue=(parseFloat(t.value)*e+(parseFloat(this.screenValue)||0)).toString(),this.allSelected=!1},inputValue:function(t){var e=parseInt(1+new Array(this.cursor).fill("").map((function(t){return 0})).join(""));if("next"!==t.identifier){if("backspace"===t.identifier)this.allSelected?(this.screenValue="0",this.allSelected=!1):this.screenValue=this.screenValue.toString().substr(0,this.screenValue.length-1);else if(t.value.toString().match(/^\d+$/)){if(this.limit>0&&this.screenValue.length>=this.limit)return;this.allSelected?(this.screenValue=t.value.toString(),this.allSelected=!1):(this.screenValue+=""+t.value.toString(),"percentage"===this.mode&&(this.screenValue=this.screenValue>100?100:this.screenValue))}"0"===this.screenValue&&(this.screenValue="");var r=this.floating&&this.screenValue.length>0?parseFloat(this.screenValue/this.number):this.screenValue;this.$emit("changed",r)}else this.$emit("next",this.floating&&this.screenValue.length>0?parseFloat(this.screenValue/e):this.screenValue)}}};const a=(0,r(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid grid-flow-row grid-cols-3 gap-2 grid-rows-3",staticStyle:{padding:"1px"},attrs:{id:"numpad"}},[t._l(t.keys,(function(r,s){return e("div",{key:s,staticClass:"select-none hover:bg-gray-400 hover:text-gray-800 bg-gray-300 text-2xl text-gray-700 border h-16 flex items-center justify-center cursor-pointer",staticStyle:{margin:"-1px"},on:{click:function(e){return t.inputValue(r)}}},[void 0!==r.value?e("span",[t._v(t._s(r.value))]):t._e(),t._v(" "),r.icon?e("i",{staticClass:"las",class:r.icon}):t._e()])})),t._v(" "),t._t("numpad-footer")],2)}),[],!1,null,null,null).exports},1156:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={name:"ns-paginate",props:["pagination"],data:function(){return{page:1,path:""}},mounted:function(){this.path=this.pagination.path},computed:{getPagination:function(){return this.pagination?this.pageNumbers(this.pagination.last_page,this.pagination.current_page):[]}},methods:{gotoPage:function(t){this.page=t,this.$emit("load","".concat(this.path,"?page=").concat(this.page))},pageNumbers:function(t,e){var r=[];e-3>1&&r.push(1,"...");for(var s=1;s<=t;s++)e+3>s&&e-3<s&&r.push(s);return e+3<t&&r.push("...",t),console.log(r),r.filter((function(t){return t>0||"string"==typeof t}))}}};const n=(0,r(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex -mx-1",attrs:{id:"pagination"}},[t.pagination.current_page?[e("a",{staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.gotoPage(t.pagination.first_page)}}},[e("i",{staticClass:"las la-angle-double-left"})]),t._v(" "),t._l(t.getPagination,(function(r,s){return["..."!==t.page?e("a",{key:s,staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full hover:bg-blue-400 hover:text-white",class:t.page==r?"bg-blue-400 text-white":"bg-gray-200 text-gray-700",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.gotoPage(r)}}},[t._v(t._s(r))]):t._e(),t._v(" "),"..."===t.page?e("a",{key:s,staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700",attrs:{href:"javascript:void(0)"}},[t._v("...")]):t._e()]})),t._v(" "),e("a",{staticClass:"mx-1 flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 text-gray-700 hover:bg-blue-400 hover:text-white shadow",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.gotoPage(t.pagination.last_page)}}},[e("i",{staticClass:"las la-angle-double-right"})])]:t._e()],2)}),[],!1,null,null,null).exports},9045:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var s=r(277),n=r(4503),i=r(9165);const a={name:"ns-media",props:["popup"],components:{VueUpload:r(2948)},data:function(){return{pages:[{label:(0,i.__)("Upload"),name:"upload",selected:!1},{label:(0,i.__)("Gallery"),name:"gallery",selected:!0}],resources:[],response:{data:[],current_page:0,from:0,to:0,next_page_url:"",prev_page_url:"",path:"",per_page:0,total:0,last_page:0,first_page:0},queryPage:1,bulkSelect:!1,files:[]}},mounted:function(){this.popupCloser();var t=this.pages.filter((function(t){return"gallery"===t.name}))[0];this.select(t)},watch:{files:function(){this.files.filter((function(t){return"0.00"===t.progress})).length>0&&(this.$refs.upload.active=!0)}},computed:{postMedia:function(){return s.kq.applyFilters("http-client-url","/api/nexopos/v4/medias")},currentPage:function(){return this.pages.filter((function(t){return t.selected}))[0]},hasOneSelected:function(){return this.response.data.filter((function(t){return t.selected})).length>0},selectedResource:function(){return this.response.data.filter((function(t){return t.selected}))[0]},csrf:function(){return ns.authentication.csrf},isPopup:function(){return void 0!==this.$popup},user_id:function(){return this.isPopup&&this.$popupParams.user_id||0}},methods:{popupCloser:n.Z,__:i.__,cancelBulkSelect:function(){this.bulkSelect=!1,this.response.data.forEach((function(t){return t.selected=!1}))},deleteSelected:function(){var t=this;if(confirm("Delete selected resources ?"))return s.ih.post("/api/nexopos/v4/medias/bulk-delete",{ids:this.response.data.filter((function(t){return t.selected})).map((function(t){return t.id}))}).subscribe((function(e){s.kX.success(e.message).subscribe(),t.loadGallery()}),(function(t){s.kX.error(t.message).subscribe()}))},select:function(t){this.pages.forEach((function(t){return t.selected=!1})),t.selected=!0,"gallery"===t.name&&this.loadGallery()},loadGallery:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=null===e?this.queryPage:e,this.queryPage=e,s.ih.get("/api/nexopos/v4/medias?page=".concat(e,"&user_id=").concat(this.user_id)).subscribe((function(e){e.data.forEach((function(t){return t.selected=!1})),t.response=e}))},useSelectedEntries:function(){this.$popupParams.resolve({event:"use-selected",value:this.response.data.filter((function(t){return t.selected}))}),this.$popup.close()},selectResource:function(t){var e=this;this.bulkSelect||this.response.data.forEach((function(r,s){s!==e.response.data.indexOf(t)&&(r.selected=!1)})),t.selected=!t.selected}}};const o=(0,r(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex bg-white shadow-xl overflow-hidden",class:t.isPopup?"w-6/7-screen h-6/7-screen":"w-full h-full"},[e("div",{staticClass:"sidebar w-48 bg-gray-200 h-full flex-shrink-0"},[e("h3",{staticClass:"text-xl font-bold text-gray-800 my-4 text-center"},[t._v(t._s(t.__("Medias Manager")))]),t._v(" "),e("ul",t._l(t.pages,(function(r,s){return e("li",{key:s,staticClass:"hover:bg-white py-2 px-3 text-gray-700 border-l-8 cursor-pointer",class:r.selected?"bg-white border-blue-400":"border-transparent",on:{click:function(e){return t.select(r)}}},[t._v(t._s(r.label))])})),0)]),t._v(" "),"upload"===t.currentPage.name?e("div",{staticClass:"content w-full overflow-hidden flex"},[e("vue-upload",{ref:"upload",staticClass:"flex-auto flex bg-white shadow",attrs:{drop:!0,multiple:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":t.csrf},accept:"image/*","post-action":t.postMedia},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[e("div",{staticClass:"border-dashed border-2 flex flex-auto m-2 p-2 flex-col border-blue-400 items-center justify-center"},[e("h3",{staticClass:"text-3xl font-bold text-gray-600 mb-4"},[t._v(t._s(t.__("Click Here Or Drop Your File To Upload")))]),t._v(" "),e("div",{staticClass:"rounded w-full md:w-2/3 text-gray-700 bg-gray-500 h-56 overflow-y-auto p-2"},[e("ul",t._l(t.files,(function(r,s){return e("li",{key:s,staticClass:"p-2 mb-2 shadow bg-white flex items-center justify-between rounded"},[e("span",[t._v(t._s(r.name))]),t._v(" "),e("span",{staticClass:"rounded bg-blue-400 flex items-center justify-center text-xs p-2"},[t._v(t._s(r.progress)+"%")])])})),0)])])])],1):t._e(),t._v(" "),"gallery"===t.currentPage.name?e("div",{staticClass:"content flex-col w-full overflow-hidden flex"},[t.popup?e("div",{staticClass:"p-2 flex flex-shrink-0 justify-between bg-gray-200"},[e("div"),t._v(" "),e("div",[e("ns-close-button",{on:{click:function(e){return t.popup.close()}}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"flex flex-auto overflow-hidden"},[e("div",{staticClass:"bg-white shadow content flex flex-auto flex-col overflow-y-auto",attrs:{id:"grid"}},[e("div",{staticClass:"flex flex-auto"},[e("div",{staticClass:"p-2 overflow-x-auto"},[e("div",{staticClass:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-6"},t._l(t.response.data,(function(r,s){return e("div",{key:s},[e("div",{staticClass:"p-2"},[e("div",{staticClass:"rounded-lg w-32 h-32 bg-gray-500 m-2 overflow-hidden flex items-center justify-center",class:r.selected?"ring-4 ring-blue-500 ring-opacity-50":"",on:{click:function(e){return t.selectResource(r)}}},[e("img",{staticClass:"object-cover h-full",attrs:{src:r.sizes.thumb,alt:r.name}})])])])})),0)]),t._v(" "),0===t.response.data.length?e("div",{staticClass:"flex flex-auto items-center justify-center"},[e("h3",{staticClass:"text-2xl text-gray-600 font-bold"},[t._v(t._s(t.__("Nothing has already been uploaded")))])]):t._e()])]),t._v(" "),!t.bulkSelect&&t.hasOneSelected?e("div",{staticClass:"w-64 flex-shrink-0 bg-gray-200",attrs:{id:"preview"}},[e("div",{staticClass:"h-64 bg-gray-600 flex items-center justify-center"},[e("img",{attrs:{src:t.selectedResource.sizes.thumb,alt:t.selectedResource.name}})]),t._v(" "),e("div",{staticClass:"p-4 text-gray-700 text-sm",attrs:{id:"details"}},[e("p",{staticClass:"flex flex-col mb-2"},[e("strong",{staticClass:"font-bold block"},[t._v(t._s(t.__("File Name"))+": ")]),e("span",[t._v(t._s(t.selectedResource.name))])]),t._v(" "),e("p",{staticClass:"flex flex-col mb-2"},[e("strong",{staticClass:"font-bold block"},[t._v(t._s(t.__("Uploaded At"))+":")]),e("span",[t._v(t._s(t.selectedResource.created_at))])]),t._v(" "),e("p",{staticClass:"flex flex-col mb-2"},[e("strong",{staticClass:"font-bold block"},[t._v(t._s(t.__("By"))+" :")]),e("span",[t._v(t._s(t.selectedResource.user.username))])])])]):t._e()]),t._v(" "),e("div",{staticClass:"p-2 flex flex-shrink-0 justify-between bg-gray-200"},[e("div",{staticClass:"flex -mx-2 flex-shrink-0"},[e("div",{staticClass:"px-2 flex-shrink-0 flex"},[e("div",{staticClass:"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700"},[t.bulkSelect?e("button",{staticClass:"bg-white hover:bg-blue-400 hover:text-white py-2 px-3",on:{click:function(e){return t.cancelBulkSelect()}}},[e("i",{staticClass:"las la-times"})]):t._e(),t._v(" "),t.hasOneSelected&&!t.bulkSelect?e("button",{staticClass:"bg-white hover:bg-blue-400 hover:text-white py-2 px-3",on:{click:function(e){t.bulkSelect=!0}}},[e("i",{staticClass:"las la-check-circle"})]):t._e(),t._v(" "),t.hasOneSelected?e("button",{staticClass:"bg-red-400 text-white hover:bg-red-500 hover:text-white py-2 px-3",on:{click:function(e){return t.deleteSelected()}}},[e("i",{staticClass:"las la-trash"})]):t._e()])])]),t._v(" "),e("div",{staticClass:"flex-shrink-0 -mx-2 flex"},[e("div",{staticClass:"px-2"},[e("div",{staticClass:"rounded shadow overflow-hidden border-blue-400 flex text-sm text-gray-700"},[e("button",{staticClass:"p-2",class:1===t.response.current_page?"bg-gray-100 text-gray-600 cursor-not-allowed":"bg-white hover:bg-blue-400 hover:text-white",attrs:{disabled:1===t.response.current_page},on:{click:function(e){return t.loadGallery(t.response.current_page-1)}}},[t._v(t._s(t.__("Previous")))]),t._v(" "),e("hr",{staticClass:"border-r border-gray-700"}),t._v(" "),e("button",{staticClass:"p-2",class:t.response.current_page===t.response.last_page?"bg-gray-100 text-gray-600 cursor-not-allowed":"bg-white hover:bg-blue-400 hover:text-white",attrs:{disabled:t.response.current_page===t.response.last_page},on:{click:function(e){return t.loadGallery(t.response.current_page+1)}}},[t._v(t._s(t.__("Next")))])])]),t._v(" "),t.popup&&t.hasOneSelected?e("div",{staticClass:"px-2"},[e("button",{staticClass:"rounded shadow p-2 bg-blue-400 text-white text-sm",on:{click:function(e){return t.useSelectedEntries()}}},[t._v(t._s(t.__("Use Selected")))])]):t._e()])])]):t._e()])}),[],!1,null,null,null).exports},8682:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={data:function(){return{title:"",message:""}},computed:{size:function(){return this.$popupParams.size||"h-full w-full"}},mounted:function(){var t=this;this.title=this.$popupParams.title,this.message=this.$popupParams.message,this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(void 0!==t.$popupParams.onAction&&t.$popupParams.onAction(!1),t.$popup.close())}))},methods:{__:r(9165).__,emitAction:function(t){void 0!==this.$popupParams.onAction&&this.$popupParams.onAction(t),this.$popup.close()}}};const n=(0,r(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-6/7-screen md:w-4/7-screen lg:w-3/7-screen flex flex-col bg-white shadow-lg",class:t.size,attrs:{id:"popup"}},[e("div",{staticClass:"flex items-center justify-center flex-col flex-auto p-4"},[t.title?e("h2",{staticClass:"text-3xl font-body text-gray-700"},[t._v(t._s(t.title))]):t._e(),t._v(" "),e("p",{staticClass:"py-4 text-gray-600 text-center"},[t._v(t._s(t.message))])]),t._v(" "),e("div",{staticClass:"flex border-t border-gray-200 text-gray-700 justify-end items-center p-2"},[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.emitAction(!0)}}},[t._v(t._s(t.__("Ok")))])],1)])}),[],!1,null,null,null).exports},7995:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={data:function(){return{title:"",message:""}},computed:{size:function(){return this.$popupParams.size||"h-full w-full"}},mounted:function(){var t=this;this.title=this.$popupParams.title,this.message=this.$popupParams.message,this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams.onAction(!1),t.$popup.close())}))},methods:{__:r(9165).__,emitAction:function(t){this.$popupParams.onAction(t),this.$popup.close()}}};const n=(0,r(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col bg-white shadow-lg w-5/7-screen md:w-4/7-screen lg:w-2/7-screen",class:t.size,attrs:{id:"popup"}},[e("div",{staticClass:"flex items-center justify-center flex-col flex-auto p-4"},[e("h2",{staticClass:"text-xl md:text-3xl font-body text-gray-700 text-center"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"py-4 text-sm md:text-base text-gray-600 text-center"},[t._v(t._s(t.message))])]),t._v(" "),e("div",{staticClass:"flex border-t border-gray-200 text-gray-700"},[e("button",{staticClass:"hover:bg-gray-100 flex-auto w-1/2 h-16 flex items-center justify-center uppercase",on:{click:function(e){return t.emitAction(!0)}}},[t._v(t._s(t.__("Yes")))]),t._v(" "),e("hr",{staticClass:"border-r border-gray-200"}),t._v(" "),e("button",{staticClass:"hover:bg-gray-100 flex-auto w-1/2 h-16 flex items-center justify-center uppercase",on:{click:function(e){return t.emitAction(!1)}}},[t._v(t._s(t.__("No")))])])])}),[],!1,null,null,null).exports},8674:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={name:"ns-pos-loading-popup"};const n=(0,r(1900).Z)(s,(function(){return(0,this._self._c)("ns-spinner")}),[],!1,null,null,null).exports},2394:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var s=r(277),n=r(9165);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}const o={data:function(){return{finalValue:1,virtualStock:null,allSelected:!0,isLoading:!1,keys:[].concat(i([1,2,3].map((function(t){return{identifier:t,value:t}}))),i([4,5,6].map((function(t){return{identifier:t,value:t}}))),i([7,8,9].map((function(t){return{identifier:t,value:t}}))),[{identifier:"backspace",icon:"la-backspace"},{identifier:0,value:0},{identifier:"next",icon:"la-share"}])}},mounted:function(){var t=this;this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams.reject(!1),t.$popup.close())})),this.$popupParams.quantity&&(this.finalValue=this.$popupParams.quantity),document.addEventListener("keyup",this.handleKeyPress)},destroyed:function(){document.removeEventListener("keypress",this.handleKeyPress)},methods:{__:n.__,handleKeyPress:function(t){13===t.keyCode&&this.inputValue({identifier:"next"})},inputValue:function(t){if("next"===t.identifier){var e=this.$popupParams,r=(e.product,e.data,parseFloat(this.finalValue));if(0===r)return s.kX.error((0,n.__)("Please provide a quantity")).subscribe();this.resolve({quantity:r})}else"backspace"===t.identifier?this.allSelected?(this.finalValue=0,this.allSelected=!1):(this.finalValue=this.finalValue.toString(),this.finalValue=this.finalValue.substr(0,this.finalValue.length-1)||0):this.allSelected?(this.finalValue=t.value,this.finalValue=parseFloat(this.finalValue),this.allSelected=!1):(this.finalValue+=""+t.value,this.finalValue=parseFloat(this.finalValue))},resolve:function(t){this.$popupParams.resolve(t),this.$popup.close()}}};const l=(0,r(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white shadow min-h-2/5-screen w-3/4-screen md:w-3/5-screen lg:w-3/5-screen xl:w-2/5-screen relative"},[e("div",{staticClass:"flex-shrink-0 py-2 border-b border-gray-200"},[e("h1",{staticClass:"text-xl font-bold text-gray-700 text-center"},[t._v(t._s(t.__("Define Quantity")))])]),t._v(" "),e("div",{staticClass:"h-16 border-b bg-gray-800 text-white border-gray-200 flex items-center justify-center",attrs:{id:"screen"}},[e("h1",{staticClass:"font-bold text-3xl"},[t._v(t._s(t.finalValue))])]),t._v(" "),e("div",{staticClass:"grid grid-flow-row grid-cols-3 grid-rows-3",attrs:{id:"numpad"}},t._l(t.keys,(function(r,s){return e("div",{key:s,staticClass:"hover:bg-blue-400 hover:text-white hover:border-blue-600 text-xl font-bold border border-gray-200 h-24 flex items-center justify-center cursor-pointer",on:{click:function(e){return t.inputValue(r)}}},[void 0!==r.value?e("span",[t._v(t._s(r.value))]):t._e(),t._v(" "),r.icon?e("i",{staticClass:"las",class:r.icon}):t._e()])})),0)])}),[],!1,null,null,null).exports},149:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const s={data:function(){return{title:"",message:"",input:""}},computed:{size:function(){return this.$popupParams.size||"h-full w-full"}},mounted:function(){var t=this;this.input=this.$popupParams.input||"",this.title=this.$popupParams.title,this.message=this.$popupParams.message,this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams.reject(!1),t.$popup.close())}))},methods:{__:r(9165).__,emitAction:function(t){this.$popupParams.onAction(t?this.input:t),this.$popup.close()},reject:function(t){void 0!==this.$popupParams.reject&&this.$popupParams.reject(t),this.$popup.close()}}};const n=(0,r(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-5/7-screen md:w-3/7-screen flex flex-col bg-white shadow-lg",class:t.size,attrs:{id:"popup"}},[e("div",{staticClass:"flex items-center justify-center flex-col flex-auto p-2"},[e("h2",{staticClass:"text-3xl font-body text-gray-700"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"w-full md:mx-auto md:w-2/3 py-4 text-gray-600 text-center"},[t._v(t._s(t.message))])]),t._v(" "),e("div",{staticClass:"p-2"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"text-gray-700 w-full border-2 p-2 border-blue-400",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex border-t border-gray-200 text-gray-700"},[e("button",{staticClass:"hover:bg-gray-100 flex-auto w-1/2 h-16 flex items-center justify-center uppercase",on:{click:function(e){return t.emitAction(!0)}}},[t._v(t._s(t.__("Ok")))]),t._v(" "),e("hr",{staticClass:"border-r border-gray-200"}),t._v(" "),e("button",{staticClass:"hover:bg-gray-100 flex-auto w-1/2 h-16 flex items-center justify-center uppercase",on:{click:function(e){return t.reject(!1)}}},[t._v(t._s(t.__("Cancel")))])])])}),[],!1,null,null,null).exports},2763:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(4503),n=r(9165);const i={data:function(){return{value:[],options:[],label:null,type:"select"}},computed:{},mounted:function(){this.popupCloser(),this.value=this.$popupParams.value||[],this.options=this.$popupParams.options,this.label=this.$popupParams.label,this.type=this.$popupParams.type||this.type},methods:{popupCloser:s.Z,__:n.__,toggle:function(t){var e=this.value.indexOf(t);-1===e?this.value.unshift(t):this.value.splice(e,1)},isSelected:function(t){return this.value.indexOf(t)>=0},close:function(){this.$popupParams.reject(!1),this.$popup.close()},select:function(t){void 0!==t&&(this.value=[t]),this.$popupParams.resolve(this.value),this.close()}}};const a=(0,r(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"shadow-xl bg-white w-6/7-screen md:w-4/7-screen lg:w-3/7-screen overflow-hidden"},[e("div",{staticClass:"p-2 flex justify-between border-b border-gray-200"},[e("span",{staticClass:"text-semibold text-gray-700"},[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),e("div",[e("ns-close-button",{on:{click:function(e){return t.close()}}})],1)]),t._v(" "),e("div",{staticClass:"flex-auto overflow-y-auto"},[e("ul",["select"===t.type?t._l(t.options,(function(r){return e("li",{key:r.value,staticClass:"p-2 border-b border-gray-200 text-gray-700 cursor-pointer hover:bg-gray-100",on:{click:function(e){return t.select(r)}}},[t._v(t._s(r.label))])})):t._e(),t._v(" "),"multiselect"===t.type?t._l(t.options,(function(r){return e("li",{key:r.value,staticClass:"p-2 border-b text-gray-700 cursor-pointer hover:bg-gray-100",class:t.isSelected(r)?"bg-blue-100 border-blue-200":"border-gray-200",on:{click:function(e){return t.toggle(r)}}},[t._v(t._s(r.label))])})):t._e()],2)]),t._v(" "),"multiselect"===t.type?e("div",{staticClass:"flex justify-between"},[e("div"),t._v(" "),e("div",[e("ns-button",{attrs:{type:"info"},on:{click:function(e){return t.select()}}},[t._v(t._s(t.__("Select")))])],1)]):t._e()])}),[],!1,null,null,null).exports}},t=>{t.O(0,[898],(()=>{return e=400,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=app.min.js.map